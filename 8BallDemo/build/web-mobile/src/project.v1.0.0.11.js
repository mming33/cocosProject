System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///Common/noSleep.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(A,e){var B,Q,o,t,n,l,E;return{setters:[function(A){B=A.createClass,Q=A.classCallCheck},function(A){o=A.cclegacy}],execute:function(){o._RF.push({},"a5e0cUF7xtPrKHOAxZaNFhM","noSleep",void 0),t="data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",n="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA=",l="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,E=function(){function A(){var e=this;Q(this,A),l?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("muted",""),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("webkit-playsinline",""),this.noSleepVideo.style.opacity=0,this.noSleepVideo.style.position="absolute",this.noSleepVideo.style.zIndex=-99,this._addSourceToVideo(this.noSleepVideo,"webm",t),this._addSourceToVideo(this.noSleepVideo,"mp4",n),this.noSleepVideo.addEventListener("loadedmetadata",(function(){e.noSleepVideo.duration<=1?e.noSleepVideo.setAttribute("loop",""):e.noSleepVideo.addEventListener("timeupdate",(function(){e.noSleepVideo.currentTime>.5&&(e.noSleepVideo.currentTime=Math.random())}))})),this.noSleepVideo.addEventListener("error",(function(A){console.log("noSleepVideo ERR:",A)})))}return B(A,[{key:"_addSourceToVideo",value:function(A,e,B){var Q=document.createElement("source");Q.src=B,Q.type="video/".concat(e),A.appendChild(Q)}},{key:"enable",value:function(){l?(this.disable(),console.warn("\n          NoSleep enabled for older iOS devices. This can interrupt\n          active or long-running network requests from completing successfully.\n          See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n        "),this.noSleepTimer=window.setInterval((function(){document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){l?this.noSleepTimer&&(console.warn("\n            NoSleep now disabled for older iOS devices.\n          "),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),A}(),o._RF.pop(),A("default",E)}}}));

System.register("chunks:///Utils/MKEventDispatch.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var i,n,s,l,o;return{setters:[function(e){i=e.createClass,n=e.classCallCheck},function(e){s=e.cclegacy,l=e.isValid}],execute:function(){s._RF.push({},"dd140sZi8VKgbChuHmsZXlJ","MKEventDispatch",void 0),(o=function(){function e(){n(this,e),this.list={}}return i(e,[{key:"on",value:function(e,t,i){null==this.list[e]&&(this.list[e]=[]);var n={};n.func=t,n.node=i,this.list[e].push(n)}},{key:"remove",value:function(e,t){if(this.list[e])for(var i=this.list[e],n=0;n<i.length;n++)i[n].node==t&&(i.splice(n,1),--n)}},{key:"removeByNode",value:function(e){for(var t in this.list)for(var i=this.list[t],n=0;n<i.length;n++)i[n].node==e&&(i.splice(n,1),--n)}},{key:"removeByKey",value:function(e){delete this.list[e]}},{key:"emit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.list[e])for(var i=this.list[e].concat(),n=0;n<i.length;n++)i[n].node&&l(i[n].node)&&i[n].func(t,i[n].node)}}],[{key:"I",get:function(){return this.singleton||(this.singleton=new e),this.singleton}}]),e}()).nowShowLayer={NONE:0,HALL:1,HALLQUIT:2,GAMEQUIT:3,TUTORIAL:4,MATCH:5,GAME:6},o.eventType=o.nowShowLayer.NONE,s._RF.pop(),e("default",o)}}}));

System.register("chunks:///Utils/GlobalGameData.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,r){var t,n,a,u,l;return{setters:[function(e){t=e.createClass,n=e.classCallCheck,a=e.createForOfIteratorHelper},function(e){u=e.cclegacy}],execute:function(){u._RF.push({},"e95abI7VDFIMrE6Q0GdkLRa","GlobalGameData",void 0),(l=function(){function e(){n(this,e)}return t(e,null,[{key:"runPromiseArray",value:function(e){var r,t=Promise.resolve(),n=a(e);try{for(n.s();!(r=n.n()).done;){var u=r.value;t=t.then(u).catch((function(){return t}))}}catch(e){n.e(e)}finally{n.f()}}},{key:"subNickName",value:function(e){return e.length>8&&(e=e.substring(0,8)+"..."),e}}]),e}()).audioEngineOn=!0,l.userId=-1,l.socketStatus=!1,l.shareUrl="",l.roomId=0,u._RF.pop(),e("default",l)}}}));

System.register("chunks:///Utils/MKMessageManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./MKEventDispatch.js","./GlobalGameData.js","./NDBTS.js"],(function(e,t){var n,r,a,s,u,o,i,c;return{setters:[function(e){n=e.createClass,r=e.classCallCheck,a=e.asyncToGenerator},function(e){s=e.cclegacy},function(e){u=e.default},function(e){o=e.default},function(e){i=e.default}],execute:function(){s._RF.push({},"d42bbr0kMlHo5fD0sDEy5Dv","MKMessageManager",void 0),(c=function(){function e(){r(this,e)}var t,s,c,l,h,p,f,m,g;return n(e,null,[{key:"getUserInfo",value:(g=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getUserInfo();case 2:n=e.sent,t&&t(n.result);case 4:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"getRoomInfo",value:(m=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getRoomInfo();case 2:n=e.sent,t&&t(n);case 4:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"showPlayerInfo",value:function(e){i.showPlayerInfo(e)}},{key:"clearStartContinue",value:function(){this.continueTimeOut>=0&&(clearTimeout(this.continueTimeOut),this.continueTimeOut=-1)}},{key:"showEmoji",value:function(e,t,n){var r=window.location.href,a=r.length,s=0;s="ar"==r.slice(a-2,a)?-e[0]:e[0],console.log("pos:"+e[0]+"======"+e[1]);var u=[s+375+2,375-e[1]+2+20],o=document.body.clientWidth;t=[t[0]/750*o,t[1]/750*o],u=[u[0]/750*o-t[0]/2,u[1]/750*o-t[1]/2],i.showEmoji(u,t,n)}},{key:"httpResult",value:(f=a(regeneratorRuntime.mark((function e(t,n){var r,a,s,u,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=c.length>3?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:2,u="".concat(this.NET_CONST_PATH).concat(n),e.next=6,i.request(t,u,r);case 6:if(!((o=e.sent).err_code&&500==Number(o.err_code)&&s>0)){e.next=11;break}return s-=1,this.httpResult(t,n,r,a,s),e.abrupt("return");case 11:a&&a(o);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"httpUserResult",value:(p=a(regeneratorRuntime.mark((function e(t,n){var r,a,s,u,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},a=o.length>3?o[3]:void 0,s="".concat(this.NET_USER_CONST_PATH).concat(n),e.next=5,i.request(t,s,r);case 5:u=e.sent,a&&a(u);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"httpTestUserResult",value:(h=a(regeneratorRuntime.mark((function e(t,n){var r,a,s,u,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},a=o.length>3?o[3]:void 0,s=n,e.next=5,i.request(t,s,r);case 5:u=e.sent,a&&a(u);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})},{key:"httpAPIResult",value:(l=a(regeneratorRuntime.mark((function e(t,n){var r,a,s,u,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},a=o.length>3?o[3]:void 0,s="".concat(this.NET_API_CONST_PATH).concat(n),console.log(s),e.next=6,i.request(t,s,r);case 6:u=e.sent,a&&a(u);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"httpIAPResult",value:(c=a(regeneratorRuntime.mark((function e(t,n){var r,a,s,u,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},a=o.length>3?o[3]:void 0,s="".concat(this.NET_IAP_CONST_PATH).concat(n),e.next=5,i.request(t,s,r);case 5:u=e.sent,a&&a(u);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"socketSend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.run("onSocketSend",{method:e,data:t})}},{key:"emitSocketMessage",value:function(e){if(u.I.emit("emit_message",{data:e}),this.isPushmessage){var t=e.data.method;console.log("method:"+t),"ludo_playing"!=t&&"ludo_completed"!=t||this.messageArr.push(e)}}},{key:"getLastMessage",value:function(){var e=this.messageArr.length;return this.messageArr[e-1]}},{key:"clearMessage",value:function(){this.isPushmessage=!1,this.messageArr=[]}},{key:"shareGameOrImage",value:(s=a(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.shareGameOrImage(t,n);case 2:a=e.sent,r&&r(a);case 4:case"end":return e.stop()}}),e)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"renderTextureShare",value:(t=a(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.renderTextureShare();case 2:return n=e.sent,t&&t(n),r=n.result.filePath,a="Come to join this chatroom and play incredible game!  "+o.shareUrl,e.next=8,i.shareGameOrImage(a,r);case 8:e.sent;case 9:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"exitGame",value:function(){i.closeWebView()}},{key:"buyGameCion",value:function(){i.openDeepLink("yoyo://start_activity/recharge?tab=game_coin")}},{key:"getUrlParameterValue",value:function(e){var t=window.location.href,n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=t.substr(1).match(n),a="";return null!=r&&(a=r[2]),n=null,r=null,null==a||""==a||"undefined"==a?"":a}}]),e}()).NET_CONST_PATH="https://game.funshareapp.com/",c.NET_USER_CONST_PATH="https://user.funshareapp.com/",c.NET_API_CONST_PATH="https://api.funshareapp.com/",c.NET_IAP_CONST_PATH="https://iap.funshareapp.com/",c.CHAT_API_CONST_PATH="https://chatroom.funshareapp.com/",c.messageArr=[],c.continueTimeOut=-1,c.isStartContinue=!1,c.isPushmessage=!1,s._RF.pop(),e("default",c)}}}));

System.register("chunks:///Utils/MKSound.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(n,e){var u,t,c,l;return{setters:[function(n){u=n.createClass,t=n.classCallCheck},function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"a14fcMx/OZOX4VW3vHIh+CD","MKSound",void 0),(l=function(){function n(){t(this,n)}return u(n,null,[{key:"playBGEngine",value:function(n){}},{key:"updateMusic",value:function(){}},{key:"playEffect",value:function(n){}},{key:"stopAllEngine",value:function(){}},{key:"playLoadEffect",value:function(n){}}]),n}()).audioEngineOn=!0,l.bgAudioId=-1,l.audioIsOn=!1,c._RF.pop(),n("default",l)}}}));

System.register("chunks:///Utils/NDBTS.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./MKEventDispatch.js","./MKMessageManager.js","./MKSound.js"],(function(e,n){var o,t,r,i,s,a,c,u,l,d,g,p;return{setters:[function(e){o=e.createClass,t=e.classCallCheck,r=e.objectWithoutProperties,i=e.asyncToGenerator},function(e){s=e.cclegacy},function(e){a=e.default},function(e){c=e.default},function(e){u=e.default}],execute:function(){s._RF.push({},"7fe64wF/DRC1YUxEW/3U4uU","NDBTS",void 0),l=function(){function e(){t(this,e),this.list=[]}return o(e,[{key:"addEventListener",value:function(e){this.list.push(e)}},{key:"removeEventListener",value:function(e){this.list=this.list.filter((function(n){return n.toString()!=e.toString()}))}},{key:"broadcast",value:function(){return console.log(this.list),this.list.forEach((function(e){e&&e()})),!!this.list.length}}]),e}(),d=function(){function e(n,o){var s=this;t(this,e),this.gameIsStart=!1,this.generateRequestObj=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.sequenceId++;return{uri:"".concat(s.PROTOCOL,"://").concat(s.ALICE,":").concat(o,"/").concat(e,"?").concat(JSON.stringify(n)),port:o}},this.run=function(e,n){var o=s.generateRequestObj(e,n),t=o.uri,i=o.port;return console.log("%c >> request:"+i,"color:blue",t),new Promise((function(e){if(s.pool[i]=e,"android"===s.platform)window.prompt(t,"");else{if("ios"!==s.platform)throw new Error(JSON.stringify(s.platform));s.setupWKWebViewJavascriptBridge((function(e){e.callHandler("handleIOSJsBridge",{url:t},(function(e){console.log("IOS back data: ",e);var n=e.port,o=r(e,["port"]);s.onFinish(n,o)}))}))}})).catch((function(e){throw console.error(e),console.error("jsbridge method fail: ".concat(JSON.stringify({uri:t,port:i}))),new Error("jsbridge method fail: ".concat(JSON.stringify({uri:t,port:i})))}))},this.setupWKWebViewJavascriptBridge=function(e){return window.WKWebViewJavascriptBridge?e(window.WKWebViewJavascriptBridge):window.WKWVJBCallbacks?window.WKWVJBCallbacks.push(e):(window.WKWVJBCallbacks=[e],void window.webkit.messageHandlers.iOS_Native_InjectJavascript.postMessage(null))},this.onFinish=function(e,n){console.log("%c << response:"+e,"color:green",n);var o=s.pool[e];o&&o(n),delete s.pool[e]},this.request=function(){var e=i(regeneratorRuntime.mark((function e(n,o,t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.run(n,{url:o,params:t});case 3:return r=e.sent,console.log("--------\x3e>>>>",r),(r.err_code||r.msg)&&console.log(r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log("0000000",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,o,t){return e.apply(this,arguments)}}(),this.closeWebView=function(){s.run("closeWebView")},this.shareGameOrImage=function(){var e=i(regeneratorRuntime.mark((function e(n,o){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.run("shareMediaText",{shareText:n,imgUrl:o,is_room:!0});case 3:return t=e.sent,console.log("--------\x3e>>>>",t),(t.err_code||t.msg)&&console.log(t),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log("0000000",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,o){return e.apply(this,arguments)}}(),this.getUserInfo=i(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.run("getUserInfo");case 2:return n=e.sent,console.log("--------\x3e>>>>getUserInfo",n),(n.err_code||n.msg)&&console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),this.getRoomInfo=i(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.run("getRoomInfo");case 2:return n=e.sent,console.log("--------\x3e>>>>getRoomInfo",n),(n.err_code||n.msg)&&console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),this.showEmoji=function(e,n,o){s.run("playSvga",{x:e[0],y:e[1],w:n[0],h:n[1],url:o})},this.setEngineSwitch=function(e){console.log("setEngineSwitch:"+e),u.audioEngineOn=e,u.updateMusic()},this.showPlayerInfo=function(e){console.log("发送显示用户："+e),s.run("openProfile",{userId:e,where:"Bull Fight",in_room:!0})},this.renderTextureShare=i(regeneratorRuntime.mark((function e(){var n,o,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Math.floor(document.body.clientWidth)-2,o=Math.floor(document.body.clientHeight)-2,e.next=5,s.run("takeScreenShot",{image_coordinate:{x:0,y:0,w:n,h:o,r:0}});case 5:return t=e.sent,console.log("--------\x3e>>>>",t),(t.err_code||t.msg)&&console.log(t),e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(0),console.log("0000000",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),this.toast=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={msg:"弹出Toast",long:!0};return s.run("toast",Object.assign(n,e))},this.openDeepLink=function(e){s.run("openDeepLink",{link:e})},this.sendEvent=function(e){s.run("sendEvent",{eventName:e.eventName,eventParams:{type:e.type,from:e.from,result:e.result,way:e.way}})},this.onAndroidStop=function(){u.audioIsOn=u.audioEngineOn,u.audioEngineOn=!1,u.updateMusic(),console.log("webview onAndroidStop: app 进入后台"),a.I.emit("onAndroidStop")},this.onAndroidResume=function(){u.audioIsOn&&(u.audioEngineOn=!0,u.updateMusic()),console.log("webview resume: app 回到前台"),a.I.emit("onAndroidResume")},this.onAndroidReload=function(){console.log("webview onAndroidReload")},this.onAndroidGoBack=function(){if(s.gameIsStart){s.run("backEnsure");var e=p.broadcast();console.log("androidBackEvent.broadcast: ",!e),e||(console.log("onAndroidGoBack  onAndroidGoBack  onAndroidGoBack"),a.I.emit("androidGoback"))}},this.onSocketReceive=function(e){c.emitSocketMessage(e)},this.sendAutoJoinEvent=function(e){console.log("sendObj.eventName:"+e.eventName),s.run("sendEvent",{eventName:e.eventName,eventParams:{type:e.type,source:e.source,is_match_auto:e.is_match_auto,status:e.status,messageType:e.messageType,time:e.time,name:e.name,result:e.result}})},this.ALICE=n,this.platform=o,this.PROTOCOL="NDB",this.pool={},this.sequenceId=0,this.report=function(){if(window.gtag){window.gtag.apply(null,arguments),console.log("=======report=======");for(var e=[],n=arguments.length,o=0;o<n;o++)e.push(arguments[o]);console.log(JSON.stringify(e)),console.log("=======report=======")}},this.sleep=function(e){return new Promise((function(n,o){setTimeout(n,e,"done")}))},"ios"==this.platform&&this.setupWKWebViewJavascriptBridge((function(e){e.registerHandler("onSocketReceive",s.onSocketReceive),e.registerHandler("onAndroidGoBack",s.onAndroidGoBack),e.registerHandler("onAndroidReload",s.onAndroidReload),e.registerHandler("onAndroidResume",s.onAndroidResume),e.registerHandler("onAndroidStop",s.onAndroidStop)}))}return o(e,[{key:"socketSend",value:function(e,n){console.log("socketSend",e,n),window.prompt(e,"")}}]),e}(),g=function(){var e="unknown",n="unknown";try{window.AndroidJsConnector?(e="android",n=window.AndroidJsConnector.getInjectName()||e):window.webkit&&window.webkit.messageHandlers&&(e="ios",n="messageHandlers");var o=new d(n,e);return window.NDB=o,window.webview=!0,console.log("now is in webview"),o}catch(o){console.log(o);var t=new d(n,e);return window.NDB=t,window.webview=!1,console.log("now is not in webview"),t}}(),e("androidBackEvent",p=new l),s._RF.pop(),e("default",g)}}}));

System.register("chunks:///Game/GameData.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Common/noSleep.js","../Utils/NDBTS.js"],(function(e,t){var i,a,o,r,n,l,c,s,u,d,p,m,f,b,v,_,g,y,h,D,C,I,R,z,N,S,w,F;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,n=e.getPrototypeOf,l=e.initializerDefineProperty,c=e.assertThisInitialized,s=e.createClass},function(e){u=e.cclegacy,d=e._decorator,p=e.SpriteFrame,m=e.CCString,f=e.Component},function(e){b=e.default},function(e){v=e.default}],execute:function(){u._RF.push({},"f911eGTz4VNb6Man5AEPaRj","GameData",void 0),w=d.ccclass,F=d.property,e("GameData",(_=w("GameData"),g=F(p),y=F(p),h=F(m),D=F(m),_((R=i((I=function(e){function t(){var e,i;o(this,t);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(i=r(this,(e=n(t)).call.apply(e,[this].concat(s)))).loadData={},i.SettlementData={},l(i,"thisplayerHeadImage",R,c(i)),l(i,"RobotHeadImage",z,c(i)),l(i,"thisPlayerName",N,c(i)),l(i,"RobotName",S,c(i)),i.Winer=null,i.allMoney=0,i.gameStop=!1,i.isFirst=!0,i}return a(t,e),s(t,[{key:"onLoad",value:function(){if(t.I=this.node.getComponent(t),t.I.isFirst){t.I.isFirst=!1;v.sendAutoJoinEvent({eventName:"game_load_complete",name:"8ball"})}(new b).enable(),console.log("当前版本为v1.0.0.10")}}]),t}(f)).prototype,"thisplayerHeadImage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(I.prototype,"RobotHeadImage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(I.prototype,"thisPlayerName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=i(I.prototype,"RobotName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=I))||C)),u._RF.pop()}}}));

System.register("chunks:///Game/Popup/Popup.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var o,n,c,s,u,r,i,p,a,l,f;return t({_dec:void 0,_class:void 0}),{setters:[function(t){o=t.inherits,n=t.createClass,c=t.classCallCheck,s=t.possibleConstructorReturn,u=t.getPrototypeOf},function(t){r=t.cclegacy,i=t._decorator,p=t.Component}],execute:function(){r._RF.push({},"dcb02mfBXZGoYvLaNAaO/7r","Popup",void 0),f=i.ccclass,i.property,t("Popup",(a=f("Popup"),a(l=function(t){function e(){return c(this,e),s(this,u(e).apply(this,arguments))}return o(e,t),n(e,[{key:"start",value:function(){this.Init()}},{key:"Init",value:function(){}}]),e}(p))||l)),r._RF.pop()}}}));

System.register("chunks:///Game/Popup/PopupManager.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./Popup.js"],(function(p,o){var n,e,t,i,s,u,l,r,a,h,P,c,d,v,w,f,g,C,y,m,O;return p({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(p){n=p.applyDecoratedDescriptor,e=p.inherits,t=p.classCallCheck,i=p.possibleConstructorReturn,s=p.getPrototypeOf,u=p.initializerDefineProperty,l=p.assertThisInitialized,r=p.createClass},function(p){a=p.cclegacy,h=p._decorator,P=p.Prefab,c=p.instantiate,d=p.Component},function(p){v=p.Popup}],execute:function(){a._RF.push({},"008d8xqGztOu6P25jZYb0n5","PopupManager",void 0),m=h.ccclass,O=h.property,p("PopupManager",(w=m("PopupManager"),f=O(P),w((y=n((C=function(p){function o(){var p,n;t(this,o);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=i(this,(p=s(o)).call.apply(p,[this].concat(r))),u(n,"popups",y,l(n)),n.willOpenPopups=[],n.nowPopup=null,n.nowPopupComponent=null,n}return e(o,p),r(o,[{key:"onLoad",value:function(){o.I=this.node.getComponent(o)}},{key:"ShowPopup",value:function(p,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var e=c(this.ChoosePopup(o));p.addChild(e)}else this.PushWillOpenPopupList(o),this.nowPopup||this.willOpenPopups.length>0&&(this.nowPopup=c(this.willOpenPopups[0]),p.addChild(this.nowPopup),this.nowPopupComponent=this.nowPopup.getComponent(v),this.willOpenPopups.splice(0,1))}},{key:"ClosePopup",value:function(p){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o?n.destroy():(this.nowPopup.destroy(),this.nowPopup=null,this.nowPopupComponent=null,this.willOpenPopups.length>0&&(this.nowPopup=c(this.willOpenPopups[0]),p.addChild(this.nowPopup),this.nowPopupComponent=this.nowPopup.getComponent(v),this.willOpenPopups.splice(0,1)))}},{key:"PushWillOpenPopupList",value:function(p){for(var o=0;o<this.popups.length;o++){var n=this.popups[o];if(n.data._name==p)if(-1==this.willOpenPopups.indexOf(n))return void this.willOpenPopups.push(n)}}},{key:"ChoosePopup",value:function(p){for(var o=0;o<this.popups.length;o++){var n=this.popups[o];if(n.data._name==p)return n}}}]),o}(d)).prototype,"popups",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=C))||g)),a._RF.pop()}}}));

System.register("chunks:///Common/LoadAnimation.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Game/GameData.js","../Game/Popup/PopupManager.js"],(function(e,t){var n,o,i,a,s,l,r,c,d,p,u,y,g,h,m,w,C,f,v,B,N,I,P,A,b,_;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inherits,i=e.classCallCheck,a=e.possibleConstructorReturn,s=e.getPrototypeOf,l=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.createClass},function(e){d=e.cclegacy,p=e._decorator,u=e.CCString,y=e.SpriteComponent,g=e.Vec3,h=e.tween,m=e.Color,w=e.find,C=e.Component},function(e){f=e.GameData},function(e){v=e.PopupManager}],execute:function(){d._RF.push({},"e22a9tdP0pM1IPGpqdoldK6","LoadAnimation",void 0),b=p.ccclass,_=p.property,e("LoadAnimation",(B=b("LoadAnimation"),N=_(u),B((A=n((P=function(e){function t(){var e,n;i(this,t);for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];return n=a(this,(e=s(t)).call.apply(e,[this].concat(c))),l(n,"type",A,r(n)),n}return o(t,e),c(t,[{key:"start",value:function(){switch(this.type){case"MatchingPopup":this.MatchingPopupAnimation(this.node);break;case"Win":this.WinAnimation(this.node);break;case"Lose":this.LoseAnimation(this.node)}}},{key:"MainSceneTitleAnimation",value:function(e){}},{key:"MatchingPopupAnimation",value:function(e){var t,n,o,i,a=this.node.getChildByName("BG").getComponent(y).color,s=this.node.getChildByName("GloadBG").getComponent(y).color,l=this.node.getChildByName("Top1").getComponent(y).color,r=this.node.getChildByName("Top2").getComponent(y).color,c=this.node.getChildByName("red"),d=c.getComponent(y).color,p=this.node.getChildByName("blue"),u=p.getComponent(y).color,C=this.node.getChildByName("Rectangle1"),B=this.node.getChildByName("Rectangle2"),N=this.node.getChildByName("Rectangle3"),I=this.node.getChildByName("vs"),P=I.getComponent(y).color,A=c.getChildByName("redlight"),b=c.getChildByName("redlight").getComponent(y).color,_=p.getChildByName("bluelight"),k=p.getChildByName("bluelight").getComponent(y).color;0==f.I.loadData.thisPlayer?(c.scale=new g(1,1,1),p.scale=new g(1,1,1),t=-1300,n=1300,o=-280,i=280):(c.scale=new g(-1,-1,1),p.scale=new g(-1,-1,1),t=1300,n=-1300,o=280,i=-280),c.position=new g(t,16,0),p.position=new g(n,16,0),h(c).to(.3,{position:new g(o,16,0)},{easing:"sineIn"}).start(),h(p).to(.3,{position:new g(i,16,0)},{easing:"sineIn"}).start(),h(b).delay(.3).to(.3,new m(255,255,255,255)).union().start(),h(k).delay(.3).to(.3,new m(255,255,255,255)).union().start(),h(C).delay(.3).to(.5,{scale:new g(12,12,12)},{easing:"sineIn"}).union().start(),h(B).delay(.4).to(.54,{scale:new g(12,12,12)},{easing:"sineIn"}).union().start(),h(N).delay(.5).to(.6,{scale:new g(12,12,12)},{easing:"sineIn"}).union().start(),h(I).delay(.25).to(.3,{scale:new g(1,1,1)},{easing:"sineIn"}).union().start(),h(P).delay(.25).to(.25,new m(255,255,255,255),{easing:"sineIn"}).union().start(),h(I).delay(.5).to(.05,{position:new g(3,20,0)}).to(.05,{position:new g(-4,20,0)}).to(.05,{position:new g(3,18,0)}).to(.05,{position:new g(-3,11,0)}).to(.05,{position:new g(2,18,0)}).to(.05,{position:new g(-2,14,0)}).to(.05,{position:new g(1,17,0)}).to(.05,{position:new g(-1,17,0)}).to(.05,{position:new g(-1,18,0)}).to(.05,{position:new g(0,16,0)}).union().start(),h(a).delay(3.5).to(.5,new m(255,255,255,0)).start(),h(s).delay(2.5).to(.5,new m(255,255,255,0)).start(),h(l).delay(2.5).to(.5,new m(255,255,255,0)).start(),h(r).delay(2.5).to(.5,new m(255,255,255,0)).start(),h(A).delay(3).to(.3,{position:new g(t,16,0)}).start(),h(_).delay(3).to(.3,{position:new g(n,16,0)}).start(),h(I).delay(2.5).to(.5,{scale:new g(12,12,0)},{easing:"backIn"}).start(),h(d).delay(3).to(.3,new m(255,255,255,0)).start(),h(u).delay(3).to(.3,new m(255,255,255,0)).start(),h(b).delay(3).to(.3,new m(255,255,255,0)).start(),h(k).delay(3).to(.3,new m(255,255,255,0)).start(),h(P).delay(2.5).to(.5,new m(255,255,255,0)).start(),this.scheduleOnce((function(){v.I.ClosePopup(w("Canvas")),f.I.gameStop=!1}),6)}},{key:"WinAnimation",value:function(e){}},{key:"LoseAnimation",value:function(e){}}]),t}(C)).prototype,"type",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=P))||I)),d._RF.pop()}}}));

System.register("chunks:///Common/SourceManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,o){var i,t,n,a,u,l,s,r,c,h,d,p,v,y,f,m,S,k,_,g,b,O;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inherits,n=e.classCallCheck,a=e.possibleConstructorReturn,u=e.getPrototypeOf,l=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,h=e._decorator,d=e.AudioSource,p=e.AudioClip,v=e.Component}],execute:function(){c._RF.push({},"77927pxGQJCLqrabTdlaVwm","SourceManager",void 0),b=h.ccclass,O=h.property,e("SourceManager",(y=b("SourceManager"),f=O(d),m=O(p),y((_=i((k=function(e){function o(){var e,i;n(this,o);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return i=a(this,(e=u(o)).call.apply(e,[this].concat(r))),l(i,"audioSource",_,s(i)),l(i,"audios",g,s(i)),i.volume=1,i}return t(o,e),r(o,[{key:"onLoad",value:function(){o.I=this.node.getComponent(o)}},{key:"Ball2Ball",value:function(){this.audios[0].playOneShot(this.volume)}},{key:"Ball2Table",value:function(){this.audios[2].playOneShot(this.volume)}},{key:"Gun2Ball",value:function(){this.audios[3].playOneShot(this.volume)}},{key:"InHole",value:function(){this.audios[4].playOneShot(this.volume)}},{key:"Win",value:function(){this.audios[5].playOneShot(this.volume)}},{key:"Lose",value:function(){this.audios[6].playOneShot(this.volume)}},{key:"Join",value:function(){this.audios[7].playOneShot(this.volume)}},{key:"Settlemeny",value:function(){this.audios[8].playOneShot(this.volume)}},{key:"StartGame",value:function(){this.audios[10].playOneShot(this.volume)}},{key:"BGMusic",value:function(){this.audios[9].play(),this.audios[9].setLoop(!0)}}]),o}(v)).prototype,"audioSource",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(k.prototype,"audios",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=k))||S)),c._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/RoundType.js",["cc"],(function(e,n){var c,o;return e("RoundType",void 0),{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"57e36HDKqNGK6c+cNQMErdq","RoundType",void 0),function(e){e[e.Play1=0]="Play1",e[e.Play2=1]="Play2"}(o||e("RoundType",o={})),c._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/UI/MainSceneUI.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../../../Utils/MKEventDispatch.js","../../../Utils/NDBTS.js","../../GameData.js","../../Popup/PopupManager.js","../../../Common/SourceManager.js","../RoundType.js","../../../Common/ServerCommon.js"],(function(e,t){var n,a,i,o,s,r,u,c,l,m,d,p,h,g,v,y,f,C,I,N,P,b,G,S,D,k,B,T,R,M,_,J,L,O,U;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inherits,i=e.classCallCheck,o=e.possibleConstructorReturn,s=e.getPrototypeOf,r=e.initializerDefineProperty,u=e.assertThisInitialized,c=e.createClass},function(e){l=e.cclegacy,m=e._decorator,d=e.Node,p=e.view,h=e.ResolutionPolicy,g=e.director,v=e.find,y=e.Label,f=e.game,C=e.Sprite,I=e.tween,N=e.Vec3,P=e.Component},function(e){b=e.default},function(e){G=e.default},function(e){S=e.GameData},function(e){D=e.PopupManager},function(e){k=e.SourceManager},function(e){B=e.RoundType},function(e){T=e.ServerCommon}],execute:function(){l._RF.push({},"c4862nVDUdDR6AJhGGTo8cA","MainSceneUI",void 0),O=m.ccclass,U=m.property,e("MainSceneUI",(R=O("MainSceneUI"),M=U(d),R((L=n((J=function(e){function t(){var e,n;i(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=o(this,(e=s(t)).call.apply(e,[this].concat(c)))).LoadJoinDataOver=!1,n.LoadSceneOver=!1,n.isJump=!1,r(n,"PlayBtn",L,u(n)),n.timeindex=0,n}return a(t,e),c(t,[{key:"__preload",value:function(){p.setDesignResolutionSize(1500,750,h.SHOW_ALL)}},{key:"onLoad",value:function(){}},{key:"onEnable",value:function(){var e=this;t.I=this.node.getComponent(t),console.log("开始加载场景"),g.preloadScene("GameScene",(function(t){e.LoadSceneOver=!0,console.log("加载完毕")}))}},{key:"start",value:function(){var e=this;G.gameIsStart=!0,this.addEventDispatch(),this.TimeNumber=v("Canvas/BG2/TimeNumber").getComponent(y),f.addPersistRootNode(v("GameData")),f.addPersistRootNode(v("PopupManager")),f.addPersistRootNode(v("Sources")),this.gloadNumber=v("Canvas/GloadNumberBG/Number").getComponent(y),T.getUserinfo(),T.UpdataCoin(),this.scheduleOnce((function(){T.startGame()}),3),k.I.BGMusic(),this.timeindex=0,this.TimeNumber.string,this.isJump=!1,this.scheduleOnce((function(){e.TimeNumber.string="0"}),2.5),this.schedule((function(){if(e.timeindex++,"start"!=e.TimeNumber.string){if(S.I.allMoney<100)return e.gloadNumber.string=S.I.allMoney+"",void(e.TimeNumber.string="Insufficient game currency");if("Insufficient game currency"==e.TimeNumber.string&&(e.TimeNumber.string="FINDING PLAYER"),"FINDING PLAYER"!=e.TimeNumber.string)return e.LoadJoinDataOver&&e.LoadSceneOver&&!e.isJump?(console.log("设置机器人头像数据并跳转场景"),e.TimeNumber.string="start",e.isJump=!0,void e.setJoinData()):void(e.TimeNumber.string=e.timeindex+"")}}),1,100,3)}},{key:"addEventDispatch",value:function(){b.I.on("androidGoback",this.androidGoback.bind(this),this),b.I.on("onAndroidResume",this.onAndroidResume.bind(this),this)}},{key:"androidGoback",value:function(){var e=v("Canvas/ExitTipPopup");e?D.I.ClosePopup(v("Canvas"),!0,e):D.I.ShowPopup(v("Canvas"),"ExitTipPopup",!0)}},{key:"onAndroidResume",value:function(){this.PlayBtn.active=!0,console.log("回到前台"),T.UpdataCoin()}},{key:"setJoinData",value:function(){t.I.TimeNumber.string="start";var e=v("Canvas/BG2/Player2BG/Mask/HeadImage");e.getComponent(C).spriteFrame=S.I.RobotHeadImage,I(e).to(.2,{postion:new N(165,-160.786,0)}).start(),v("Canvas/BG2/Player2BG/Name").getComponent(y).string=S.I.RobotName,k.I.Join(),t.I.JumpSuccess()}},{key:"Join",value:function(){this.PlayBtn.active=!1,this.timeindex=0,this.TimeNumber.string=this.timeindex+"",this.scheduleOnce((function(){T.startGame()}),3)}},{key:"SetPlayersData",value:function(){var e=v("Canvas/thisPlayer"),t=v("Canvas/BG2/Player1BG");e.getChildByName("Mask").getChildByName("HeadImage").getComponent(C).spriteFrame=S.I.thisplayerHeadImage,e.getChildByName("Name").getComponent(y).string=S.I.thisPlayerName,t.getChildByName("Mask").getChildByName("HeadImage").getComponent(C).spriteFrame=S.I.thisplayerHeadImage,t.getChildByName("Name").getComponent(y).string=S.I.thisPlayerName}},{key:"JumpSuccess",value:function(){var e=this;this.scheduleOnce((function(){e.CreateData(),console.log("数据为",S.I.loadData),e.LoadGameScene()}),1.5)}},{key:"CreateData",value:function(){S.I.loadData.nowPlayerType=B.Play1,S.I.loadData.thisPlayer=this.DecideWhoStartsFirst()}},{key:"DecideWhoStartsFirst",value:function(){return Math.random()>.5?B.Play1:B.Play2}},{key:"LoadGameScene",value:function(){g.loadScene("GameScene")}},{key:"PlayGameButton",value:function(){T.GetCoin()}}]),t}(P)).prototype,"PlayBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=J))||_)),l._RF.pop()}}}));

System.register("chunks:///Utils/MKMessageType.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,s){var l,t,n;return{setters:[function(e){l=e.classCallCheck},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bd684TJfd5D55JGpY5gPnS2","MKMessageType",void 0),(n=function e(){l(this,e)}).REQUEST_WS_STATUS="request_ws_status",n.GETUSERINFO="v1/slots/user/mine/",n.JOIN="v1/ball8/join/",n.LEAVE="v1/ball8/leave/",n.ASSETS="v1/ball8/mine/diamond/",t._RF.pop(),e("default",n)}}}));

System.register("chunks:///Utils/MKResourcesManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,a){var n,r,l,o,s,u,t;return{setters:[function(e){n=e.createClass,r=e.classCallCheck},function(e){l=e.cclegacy,o=e.loader,s=e.Prefab,u=e.instantiate}],execute:function(){l._RF.push({},"175e1T3eMZPYLBI67iMJCGX","MKResourcesManager",void 0),(t=function(){function e(){r(this,e)}return n(e,null,[{key:"loadPrefab",value:function(e,a){o.loadRes(e,s,(function(e,n){if(!e){var r=u(n);a&&a(r)}}))}},{key:"loadHeadImag",value:function(e,a,n,r){var l=this;o.load({url:e,type:"png"},(function(o,s){o?n>0&&(l.loadHeadImag(e,a,--n,r),console.error("loadHeadImageErr",n,o)):(l.userHeadMap[a]=s,console.warn("loadHeadImageSuccerss",s),r&&r(s))}))}}]),e}()).userHeadMap=new Map,l._RF.pop(),e("default",t)}}}));

System.register("chunks:///Common/ServerCommon.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Utils/MKMessageManager.js","../Game/GameData.js","../Game/Popup/PopupManager.js","../Game/GameCommon/UI/MainSceneUI.js","../Utils/MKMessageType.js","../Utils/MKResourcesManager.js"],(function(e,o){var n,a,t,i,l,u,s,r,c,d,m,p,v,I,g;return e({_dec:void 0,_class:void 0}),{setters:[function(e){n=e.createClass,a=e.classCallCheck},function(e){t=e.cclegacy,i=e._decorator,l=e.SpriteFrame,u=e.find},function(e){s=e.default},function(e){r=e.GameData},function(e){c=e.PopupManager},function(e){d=e.MainSceneUI},function(e){m=e.default},function(e){p=e.default}],execute:function(){t._RF.push({},"216104+5LlOwrPhamOc1aXu","ServerCommon",void 0),g=i.ccclass,i.property,e("ServerCommon",(v=g("ServerCommon"),v(I=function(){function e(){a(this,e)}return n(e,[{key:"leaveGame",value:function(){s.httpResult("post",m.LEAVE,{},(function(e){console.log(e)}))}}],[{key:"startGame",value:function(){e.userId?(console.log("+++++++++++",r.I.allMoney),r.I.allMoney>=100?e.join():e.GetCoin()):this.getUserinfo(e.GetCoin)}},{key:"JoinGame",value:function(){e.GetCoin()}},{key:"getUserinfo",value:function(){var o=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.getUserInfo((function(a){if(a&&a.userId){e.userId=a.userId;var t=o.subNickName(a.userName);r.I.thisPlayerName=t;var i=a.avatar;p.loadHeadImag(i,e.userId,3,(function(e){var o=new l;o=l.createWithImage(e),r.I.thisplayerHeadImage=o,d.I.SetPlayersData()})),n&&n()}else c.I.ShowPopup(u("Canvas"),"ErrTipPopup",!0),d.I.PlayBtn.active=!0}))}},{key:"GetCoin",value:function(){var e=this;console.log("=++++++++++游戏币============================"),s.httpResult("get",m.ASSETS,{},(function(o){console.log("=====================游戏币============================"),console.log(o),o&&null!=o.diamond?(r.I.allMoney=o.diamond,d.I.gloadNumber.string=o.diamond+"",o.diamond>=100?e.join():(c.I.ShowPopup(u("Canvas"),"AddCoinTipPopup",!0),d.I.PlayBtn.active=!0)):(c.I.ShowPopup(u("Canvas"),"ErrTipPopup",!0),d.I.PlayBtn.active=!0)}))}},{key:"UpdataCoin",value:function(){s.httpResult("get",m.ASSETS,{},(function(e){console.log("=====================游戏币============================"),console.log(e),e&&null!=e.diamond&&(r.I.allMoney=e.diamond,d.I.gloadNumber.string=e.diamond+"")}))}},{key:"join",value:function(){s.httpResult("post",m.JOIN,{},(function(o){o&&o.id?(e.robotId=o.id,r.I.RobotName=o.name,p.loadHeadImag(o.avatar,e.robotId,3,(function(e){var o=new l;o=l.createWithImage(e),r.I.RobotHeadImage=o,d.I.LoadJoinDataOver=!0}))):(c.I.ShowPopup(u("Canvas"),"ErrTipPopup",!0),d.I.PlayBtn.active=!0)}))}},{key:"gload",value:function(o,n){var a={users:[Number(e.userId)],coin:o,type:n};console.log("------------------------------------"),console.log(a),s.httpResult("post","v1/ball8/coin/",a,(function(e){console.log("00000000000000",e)}))}},{key:"subNickName",value:function(e){return e.length>8&&(e=e.substring(0,8)+"..."),e}}]),e}())||I)),t._RF.pop()}}}));

System.register("chunks:///Common/Silence.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Game/Popup/PopupManager.js","./SourceManager.js"],(function(e,t){var n,i,o,r,a,s,u,c,l,p,d,m,f,v,h,S,F,y,_,g,I,O,b,C,P;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,a=e.getPrototypeOf,s=e.initializerDefineProperty,u=e.assertThisInitialized,c=e.createClass},function(e){l=e.cclegacy,p=e._decorator,d=e.SpriteFrame,m=e.Sprite,f=e.find,v=e.Component},function(e){h=e.PopupManager},function(e){S=e.SourceManager}],execute:function(){l._RF.push({},"d604c/4nKJDLJUWNd2sMfDZ","Silence",void 0),C=p.ccclass,P=p.property,e("Silence",(F=C("Silence"),y=P(d),_=P(d),F((O=n((I=function(e){function t(){var e,n;o(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=r(this,(e=a(t)).call.apply(e,[this].concat(c))),s(n,"OnSoundFrame",O,u(n)),s(n,"OffSoundFrame",b,u(n)),n}return i(t,e),c(t,[{key:"start",value:function(){this.sp=this.node.getComponent(m),1==S.I.volume?this.sp.spriteFrame=this.OnSoundFrame:0==S.I.volume&&(this.sp.spriteFrame=this.OffSoundFrame)}},{key:"soundBtn",value:function(){1==S.I.volume?(S.I.volume=0,S.I.audios[9].setVolume(0),this.sp.spriteFrame=this.OffSoundFrame):0==S.I.volume&&(S.I.volume=1,S.I.audios[9].setVolume(1),this.sp.spriteFrame=this.OnSoundFrame)}},{key:"ExitBtn",value:function(){h.I.ShowPopup(f("Canvas"),"ExitTipPopup",!0)}}]),t}(v)).prototype,"OnSoundFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(I.prototype,"OffSoundFrame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=I))||g)),l._RF.pop()}}}));

System.register("chunks:///Common/UIAnimation.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,i){var n,e,o,a,r,c,s,l,u,m,p,h,d,g,A,f,v,y,I,_,E,C,B,b,k;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0,UIAnimationEnum:void 0}),{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inherits,o=t.classCallCheck,a=t.possibleConstructorReturn,r=t.getPrototypeOf,c=t.initializerDefineProperty,s=t.assertThisInitialized,l=t.createClass},function(t){u=t.cclegacy,m=t._decorator,p=t.Enum,h=t.Sprite,d=t.tween,g=t.Vec3,A=t.Color,f=t.macro,v=t.Component}],execute:function(){u._RF.push({},"26940CVBklNO4Fd1pFXcEt6","UIAnimation",void 0),B=m.ccclass,b=m.property,function(t){t[t.MatchingHeadImageBGAnimation=0]="MatchingHeadImageBGAnimation",t[t.Alpha1to0=1]="Alpha1to0"}(k||(k={})),t("UIAnimation",(y=B("Typescript"),I=b({type:p(k)}),y((C=n((E=function(t){function i(){var t,n;o(this,i);for(var e=arguments.length,l=new Array(e),u=0;u<e;u++)l[u]=arguments[u];return n=a(this,(t=r(i)).call.apply(t,[this].concat(l))),c(n,"thisUIAnimationEnum",C,s(n)),n}return e(i,t),l(i,[{key:"start",value:function(){switch(this.thisUIAnimationEnum){case k.MatchingHeadImageBGAnimation:this.MatchingHeadImageBGAnimation(this.node);break;case k.Alpha1to0:var t=this.node.getComponent(h);this.Alpha1to0(t)}}},{key:"MatchingHeadImageBGAnimation",value:function(t){d(t).to(.5,{scale:new g(1.1,1.1,1.1)}).to(.5,{scale:new g(1,1,1)}).union().repeat(999).start()}},{key:"Alpha1to0",value:function(t){this.schedule((function(){if(!(t.color.a<=0)){var i=t.color.a-1;t.color=new A(t.color.r,t.color.g,t.color.b,i)}}),.01,f.REPEAT_FOREVER,0)}}]),i}(v)).prototype,"thisUIAnimationEnum",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.MatchingHeadImageBGAnimation}}),_=E))||_)),u._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/BallType.js",["cc"],(function(L,B){var e,n;return L("BallType",void 0),{setters:[function(L){e=L.cclegacy}],execute:function(){e._RF.push({},"1d765ax4S9DC6dLE0nvLBjo","BallType",void 0),function(L){L[L.SOLIDBALL=0]="SOLIDBALL",L[L.DOUBLEBALL=1]="DOUBLEBALL",L[L.WHITEBALL=2]="WHITEBALL",L[L.BLACKBALL=3]="BLACKBALL"}(n||L("BallType",n={})),e._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Player.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var n,o,s,r,l,a,i,c,u,p,d,h;return t({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){n=t.inherits,o=t.classCallCheck,s=t.possibleConstructorReturn,r=t.getPrototypeOf,l=t.createClass},function(t){a=t.cclegacy,i=t._decorator,c=t.Vec3,u=t.Component}],execute:function(){a._RF.push({},"795cfWcMipGzaVt0RRlVB3H","Player",void 0),h=i.ccclass,i.property,t("Player",(p=h("Player"),p(d=function(t){function e(){var t,n;o(this,e);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return(n=s(this,(t=r(e)).call.apply(t,[this].concat(a)))).ContinuousBattingNumber=0,n.ForceDirection=new c(1,0,0),n.TargetBallToBeHit=new Array,n.IsStartFollow=!1,n.IsFreeBall=!1,n.IsContinuousBatting=!1,n.IsFoul=!1,n.IsSeriousFoul=!1,n.IsUnActiveGun=!1,n.IsRoundEnd=!1,n.IsHaveBallRight=!1,n.IsHitBall=!1,n}return n(e,t),l(e,[{key:"RoundStart",value:function(){this.IsHitBall=!1}},{key:"RoundEnd",value:function(){this.IsStartFollow=!0,this.IsUnActiveGun=!1,this.IsRoundEnd=!0}}]),e}(u))||d)),a._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/UI/GameSceneUI.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../../../Utils/NDBTS.js","../../GameData.js","../../Popup/PopupManager.js","../../../Common/SourceManager.js","../RoundType.js","../GameSceneManager.js","../Ball/BallManager.js"],(function(e,a){var i,t,l,r,n,s,o,h,m,y,c,u,g,p,P,d,T,S,v,C,G,B,b,I,f,N,L,w,F,D,U,H,R,k,M;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inherits,l=e.classCallCheck,r=e.possibleConstructorReturn,n=e.getPrototypeOf,s=e.initializerDefineProperty,o=e.assertThisInitialized,h=e.createClass},function(e){m=e.cclegacy,y=e._decorator,c=e.SpriteFrame,u=e.find,g=e.SpriteComponent,p=e.LabelComponent,P=e.Vec3,d=e.macro,T=e.Sprite,S=e.Label,v=e.Color,C=e.tween,G=e.Component},function(e){B=e.default},function(e){b=e.GameData},function(e){I=e.PopupManager},function(e){f=e.SourceManager},function(e){N=e.RoundType},function(e){L=e.GameSceneManager},function(e){w=e.BallManager}],execute:function(){m._RF.push({},"ca228uTMz1GR4EofdvBF57y","GameSceneUI",void 0),k=y.ccclass,M=y.property,e("GameSceneUI",(F=k("GameSceneUI"),D=M(c),F((R=i((H=function(e){function a(){var e,i;l(this,a);for(var t=arguments.length,h=new Array(t),m=0;m<t;m++)h[m]=arguments[m];return(i=r(this,(e=n(a)).call.apply(e,[this].concat(h)))).GunDrag2ScaleNumberChilds=new Array(3),s(i,"balls",R,o(i)),i.toast=null,i.toastLable=null,i.allTime=30,i}return t(a,e),h(a,[{key:"onLoad",value:function(){a.I=this.node.getComponent(a);B.sendAutoJoinEvent({eventName:"game_start",name:"8ball"})}},{key:"onEnable",value:function(){f.I.BGMusic(),this.InitPlayerData()}},{key:"start",value:function(){I.I.ShowPopup(u("Canvas"),"MatchingPopup"),this.tipBG=u("Canvas/GameSceneUI/TipBG").getComponent(g),this.tipLable=u("Canvas/GameSceneUI/TipBG/TipLable").getComponent(p),this.toast=u("Canvas/toast").getComponent(g),this.toastLable=u("Canvas/toast/Text").getComponent(p),this.GunDrag2ScaleNumber=u("Canvas/GunDrag2/mask/Node"),this.GunDrag2ScaleNumberChilds[0]=this.GunDrag2ScaleNumber.getChildByName("Number1"),this.GunDrag2ScaleNumberChilds[1]=this.GunDrag2ScaleNumber.getChildByName("Number2"),this.GunDrag2ScaleNumberChilds[2]=this.GunDrag2ScaleNumber.getChildByName("Number3")}},{key:"GunDrag2ScaleNumberMove",value:function(e){this.GunDrag2ScaleNumber.position=new P(0,this.GunDrag2ScaleNumber.position.y-e,0);var a=this.GunDrag2ScaleNumber.position.y/395>0?Math.floor(this.GunDrag2ScaleNumber.position.y/395):Math.ceil(this.GunDrag2ScaleNumber.position.y/395);console.log(a),this.GunDrag2ScaleNumberChilds[0].position=new P(0,395*-(a+1),0),this.GunDrag2ScaleNumberChilds[1].position=new P(0,395*-a,0),this.GunDrag2ScaleNumberChilds[2].position=new P(0,395*-(a-1),0)}},{key:"PlayerTime",value:function(){if(!b.I.gameStop){this.time-=.1;var e=1;b.I.loadData.thisPlayer==N.Play1?(e=1,this.Player1TimeSlider.fillStart=1,this.Player1TimeSlider.fillRange=-1,this.Player1TimeFire.setPosition(new P(-300.33,0,0)),this.Player2TimeFire.setPosition(new P(300.33,0,0)),this.Player2TimeSlider.fillStart=0,this.Player2TimeSlider.fillRange=1):(e=-1,this.Player1TimeSlider.fillStart=0,this.Player2TimeSlider.fillStart=1,this.Player1TimeSlider.fillRange=1,this.Player2TimeSlider.fillRange=-1,this.Player1TimeFire.setPosition(new P(300.33,0,0)),this.Player2TimeFire.setPosition(new P(-300.33,0,0)));var a=this.time/this.allTime;L.I.nowPlayerType==N.Play1?(this.Player1TimeSlider.fillRange=-e*a,this.Player1TimeFire.setPosition(new P(300.33*-e*a,0,0)),this.Player1TimeFire.active=!0,this.Player2TimeFire.active=!1,this.Player1Light.active=!0,this.Player1HeadLight.active=!0,this.Player2Light.active=!1,this.Player2HeadLight.active=!1,a<=0&&L.I.RoundEndChangePlayer()):(this.Player2TimeSlider.fillRange=e*a,this.Player2TimeFire.active=!0,this.Player2TimeFire.setPosition(new P(300.33*e*a,0,0)),this.Player1TimeFire.active=!1,this.Player1Light.active=!1,this.Player1HeadLight.active=!1,this.Player2Light.active=!0,this.Player2HeadLight.active=!0,a<=0&&L.I.RoundEndChangePlayer())}}},{key:"StartReckonTime",value:function(){this.time=30,this.schedule(this.PlayerTime,.1,d.REPEAT_FOREVER,0)}},{key:"EndReckonTime",value:function(){this.unschedule(this.PlayerTime)}},{key:"showBall",value:function(){if(0==L.I.Players[N.Play1].TypeOfBallToBeHit||1==L.I.Players[N.Play1].TypeOfBallToBeHit||3==L.I.Players[N.Play1].TypeOfBallToBeHit){for(var e=L.I.Players[N.Play1].TypeOfBallToBeHit,a=new Array,i=0;i<w.I.AllBalls.length;i++){var t=w.I.AllBalls[i];t.isGoal||a.push(t)}for(var l=0,r=0,n=0;n<a.length;n++){var s=a[n];if(8!=s.ballNumber){var o=s.ballNumber>8?s.ballNumber-2:s.ballNumber-1;s.ballTpye==e?(this.Player1Balls.children[l].getComponent(T).spriteFrame=this.balls[o],console.log("player1的",l,"张图片是",s.ballNumber,"号球","UI图片是",o),l++):(this.Player2Balls.children[r].getComponent(T).spriteFrame=this.balls[o],r++,console.log("player2的",r,"张图片是",s.ballNumber,"号球","UI图片是",o))}}for(var h=l;h<this.Player1Balls.children.length;h++){this.Player1Balls.children[h].getComponent(T).spriteFrame=null}for(var m=r;m<this.Player2Balls.children.length;m++){this.Player2Balls.children[m].getComponent(T).spriteFrame=null}0==l&&(this.Player1Balls.children[l].getComponent(T).spriteFrame=this.balls[14]),0==r&&(this.Player2Balls.children[r].getComponent(T).spriteFrame=this.balls[14])}else console.log("球类型还未指定")}},{key:"EndGame",value:function(e,a){I.I.ShowPopup(u("Canvas"),"SettlementPopup"),b.I.SettlementData.winPlayer=e,b.I.SettlementData.lostPlayer=a}},{key:"InitPlayerData",value:function(){var e,a,i=u("Canvas/GameSceneUI/Top1"),t=u("Canvas/GameSceneUI/Top2");b.I.loadData.thisPlayer==N.Play1?(i.active=!0,t.active=!1,e=i.getChildByName("Player1"),a=i.getChildByName("Player2"),this.Player1TimeSlider=u("Canvas/GameSceneUI/Top1/Player1TimeSlider/Time").getComponent(g),this.Player2TimeSlider=u("Canvas/GameSceneUI/Top1/Player2TimeSlider/Time").getComponent(g),this.Player1TimeFire=this.Player1TimeSlider.node.getChildByName("Fire"),this.Player2TimeFire=this.Player2TimeSlider.node.getChildByName("Fire"),this.Player1Light=u("Canvas/GameSceneUI/Top1/Player1Light"),this.Player2Light=u("Canvas/GameSceneUI/Top1/Player2Light"),this.Player1HeadLight=u("Canvas/GameSceneUI/Top1/Player1HeadLight"),this.Player2HeadLight=u("Canvas/GameSceneUI/Top1/Player2HeadLight"),this.Player1Balls=u("Canvas/GameSceneUI/Top1/Player1Ball"),this.Player2Balls=u("Canvas/GameSceneUI/Top1/Player2Ball")):(i.active=!1,t.active=!0,e=t.getChildByName("Player1"),a=t.getChildByName("Player2"),this.Player1TimeSlider=u("Canvas/GameSceneUI/Top2/Player1TimeSlider/Time").getComponent(g),this.Player2TimeSlider=u("Canvas/GameSceneUI/Top2/Player2TimeSlider/Time").getComponent(g),this.Player1TimeFire=this.Player1TimeSlider.node.getChildByName("Fire"),this.Player2TimeFire=this.Player2TimeSlider.node.getChildByName("Fire"),this.Player1Light=u("Canvas/GameSceneUI/Top2/Player1Light"),this.Player2Light=u("Canvas/GameSceneUI/Top2/Player2Light"),this.Player1HeadLight=u("Canvas/GameSceneUI/Top2/Player1HeadLight"),this.Player2HeadLight=u("Canvas/GameSceneUI/Top2/Player2HeadLight"),this.Player1Balls=u("Canvas/GameSceneUI/Top2/Player1Ball"),this.Player2Balls=u("Canvas/GameSceneUI/Top2/Player2Ball"));var l=e.getChildByName("Mask").getChildByName("HeadImage"),r=e.getChildByName("Name"),n=a.getChildByName("Mask").getChildByName("HeadImage"),s=a.getChildByName("Name");l.getComponent(T).spriteFrame=b.I.thisplayerHeadImage,r.getComponent(S).string=b.I.thisPlayerName,n.getComponent(T).spriteFrame=b.I.RobotHeadImage,s.getComponent(S).string=b.I.RobotName}},{key:"ShowTip",value:function(e){this.tipBG.node.position=new P(344,-430,0),this.tipBG.color=new v(255,255,255,255),C(this.tipBG.node).to(.4,{position:new P(344,-311,0)}).start(),this.tipLable.string=e}},{key:"ShowTip2",value:function(e){this.toast.node.position=new P(300,110,0),this.toast.color=new v(255,255,255,0),C(this.toast.node).to(.3,{position:new P(0,110,0)},{easing:"circOut"}).delay(.8).to(.3,{position:new P(-300,110,0)},{easing:"circOut"}).start(),C(this.toast.color).to(.3,new v(255,255,255,255),{easing:"circOut"}).delay(.8).to(.3,new v(255,255,255,0),{easing:"circOut"}).start(),this.toastLable.string=e}}]),a}(G)).prototype,"balls",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=H))||U)),m._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/UI/PlayerController.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../../../Common/SourceManager.js","./GameSceneUI.js","../GameSceneManager.js","../Ball/BallManager.js"],(function(e,t){var i,o,a,l,n,s,r,h,c,u,y,m,d,p,I,T,g,B,v,w,_,f,C,P,E,Y,S,X,O,U,A,R,b,F;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inherits,a=e.classCallCheck,l=e.possibleConstructorReturn,n=e.getPrototypeOf,s=e.initializerDefineProperty,r=e.assertThisInitialized,h=e.createClass},function(e){c=e.cclegacy,u=e._decorator,y=e.geometry,m=e.CameraComponent,d=e.find,p=e.Node,I=e.SliderComponent,T=e.Sprite,g=e.Vec3,B=e.macro,v=e.RigidBody,w=e.PhysicsSystem,_=e.Color,f=e.Component},function(e){C=e.SourceManager},function(e){P=e.GameSceneUI},function(e){E=e.GameSceneManager},function(e){Y=e.BallManager}],execute:function(){c._RF.push({},"70801EH9G5AzpYCTzH8Gdut","PlayerController",void 0),R=u.ccclass,b=u.property,F=y.ray,e("PlayerController",(S=R("PlayerController"),X=b(m),S((A=i((U=function(e){function t(){var e,i;a(this,t);for(var o=arguments.length,h=new Array(o),c=0;c<o;c++)h[c]=arguments[c];return i=l(this,(e=n(t)).call.apply(e,[this].concat(h))),s(i,"camera",A,r(i)),i.aimstartX=0,i.aimstartY=0,i.aimnowX=0,i.aimnowY=0,i.freeBallstartX=0,i.freeBallstartY=0,i.freeBallnowX=0,i.freeBallnowY=0,i.lerpnumber=7,i.startTouch=!1,i.touchtime=0,i}return o(t,e),h(t,[{key:"onEnable",value:function(){t.I=this.node.getComponent(t)}},{key:"start",value:function(){var e=this,t=this.node.getChildByName("GunDrag"),i=this.node.getChildByName("GunDrag2"),o=this.node.getChildByName("BallDrag");this.whiteballUIpos=this.node.getChildByName("whiteballUIpos"),this.gun=d("Gun/Cylinder"),this.line=d("Line"),t.on(p.EventType.TOUCH_START,this.Aim_Touch_Start,this),t.on(p.EventType.TOUCH_MOVE,this.Aim_Touch_Move,this),t.on(p.EventType.TOUCH_END,this.Aim_Touch_End,this),i.on(p.EventType.TOUCH_START,this.Aim_Touch_Start2,this),i.on(p.EventType.TOUCH_MOVE,this.Aim_Touch_Move,this),i.on(p.EventType.TOUCH_END,this.Aim_Touch_End,this),o.on(p.EventType.TOUCH_START,this.FreeBall_Touch_Start,this),o.on(p.EventType.TOUCH_MOVE,this.FreeBall_Touch_Move,this),o.on(p.EventType.TOUCH_END,this.FreeBall_Touch_End,this),o.on(p.EventType.TOUCH_CANCEL,this.FreeBall_Touch_End,this),this.slider=this.node.getChildByName("Slider").getComponent(I),this.colorNode=this.slider.node.getChildByName("Color").getComponent(T),this.slider.node.on(p.EventType.TOUCH_END,this.SliderMouseUp,this),this.slider.node.on(p.EventType.TOUCH_CANCEL,this.SliderMouseUp,this),this.schedule((function(){var t=new g;e.camera.convertToUINode(Y.I.WhiteBall.worldPosition,e.node,t),E.I.Players[E.I.nowPlayerType].IsFreeBall&&(o.position=t),e.whiteballUIpos.position=t}),.02,B.REPEAT_FOREVER)}},{key:"SliderMouseUp",value:function(e){if(E.I.IsOwnerRound()&&this.slider.progress>.06){if(C.I.Gun2Ball(),P.I.EndReckonTime(),E.I.Players[E.I.nowPlayerType].IsHitBall)return void console.log("本回合玩家",E.I.nowPlayerType,"已经击打过球了，请等待下一回合");E.I.Players[E.I.nowPlayerType].IsFreeBall&&(console.log("本回合玩家",E.I.nowPlayerType,"有自由球权，现已经打过球了，重置自由球权，并关闭自由球移动规定"),d("Canvas/BallDrag").active=!1,Y.I.CloseFreeBall(),E.I.Players[E.I.nowPlayerType].IsFreeBall=!1),d("Gun/Cylinder").active=!1,d("Line").active=!1,d("Canvas/GunDrag2").active=!1,E.I.CloseBallLight();var t=300*this.slider.progress;Y.I.WhiteBall.getComponent(v).applyImpulse(new g(E.I.Players[E.I.nowPlayerType].ForceDirection.x*t,0,E.I.Players[E.I.nowPlayerType].ForceDirection.z*t)),E.I.Players[E.I.nowPlayerType].IsStartFollow=!1,Y.I.isAllBallStop=!1,E.I.Players[E.I.nowPlayerType].IsHitBall=!0,Y.I.ResetWhiteBallFirstTouchBallValue(),this.slider.enabled=!1}this.slider.progress=0}},{key:"Aim_Touch_Start",value:function(e){E.I.IsOwnerRound()&&(this.aimstartX=e.getLocationX(),this.aimstartY=e.getLocationY(),this.lerpnumber=7,this.startTouch=!0,this.touchtime=0)}},{key:"Aim_Touch_Start2",value:function(e){E.I.IsOwnerRound()&&(this.aimstartX=e.getLocationX(),this.aimstartY=e.getLocationY(),this.lerpnumber=80)}},{key:"Aim_Touch_Move",value:function(e){if(E.I.IsOwnerRound()){this.aimnowX=e.getLocationX(),this.aimnowY=e.getLocationY();var t=this.aimstartX-this.aimnowX,i=this.aimstartY-this.aimnowY,o=e.getUILocation();if(Math.abs(t)>Math.abs(i))if(o.y>this.whiteballUIpos.worldPosition.y)var a=Y.I.whiteBallPos.eulerAngles.y+t/this.lerpnumber;else a=Y.I.whiteBallPos.eulerAngles.y-t/this.lerpnumber;else if(o.x>this.whiteballUIpos.worldPosition.x)a=Y.I.whiteBallPos.eulerAngles.y-i/this.lerpnumber;else a=Y.I.whiteBallPos.eulerAngles.y+i/this.lerpnumber;Y.I.whiteBallPos.setRotationFromEuler(0,a,0),this.aimstartX=e.getLocationX(),this.aimstartY=e.getLocationY(),80==this.lerpnumber&&P.I.GunDrag2ScaleNumberMove(i)}}},{key:"Aim_Touch_End",value:function(e){if(E.I.IsOwnerRound()&&(this.aimstartX=0,this.aimnowX=0,this.aimstartY=0,this.aimnowY=0,this.startTouch=!1,this.touchtime<10)){console.log("改变角度");var t=new F;if(this.camera.screenPointToRay(e.getLocationX(),e.getLocationY(),t),w.instance.raycastClosest(t)){var i=w.instance.raycastClosestResult.hitPoint,o=new g(i.x,5.71,i.z);Y.I.whiteBallPos.lookAt(o),console.log(t)}}}},{key:"update",value:function(){this.startTouch?this.touchtime++:this.colorNode.color=new _(255,255,255,255*this.slider.progress),E.I.Players[E.I.nowPlayerType].IsFreeBall&&Y.I.whiteBallComponent.rig.clearState()}},{key:"FreeBall_Touch_Start",value:function(e){E.I.IsOwnerRound()&&(d("Canvas/BallDrag/hand").active=!1,this.gun.active=!1,this.line.active=!1,this.freeBallstartX=e.getLocationX(),this.freeBallstartY=e.getLocationY())}},{key:"FreeBall_Touch_Move",value:function(e){if(E.I.IsOwnerRound()){Y.I.OpenFreeBall(),this.freeBallnowX=e.getLocationX(),this.freeBallnowY=e.getLocationY();var t=this.freeBallstartX-this.freeBallnowX,i=this.freeBallstartY-this.freeBallnowY,o=Y.I.WhiteBall.worldPosition.x-t/2.2,a=Y.I.WhiteBall.worldPosition.z+i/2.2;o<-176&&(o=-170),o>176&&(o=170),a<-84&&(a=-77),a>84&&(a=77),E.I.IsFirstRound&&o>-92&&(o=-92),Y.I.WhiteBall.worldPosition=new g(o,5.71,a),this.freeBallstartX=e.getLocationX(),this.freeBallstartY=e.getLocationY()}}},{key:"FreeBall_Touch_End",value:function(e){E.I.IsOwnerRound()&&(this.freeBallstartX=0,this.freeBallnowX=0,this.freeBallstartY=0,this.freeBallnowY=0,this.gun.active=!0,this.line.active=!0)}}]),t}(f)).prototype,"camera",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=U))||O)),c._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/RobotController.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../GameData.js","../../Common/SourceManager.js","./Ball/BallType.js","./UI/GameSceneUI.js","./UI/PlayerController.js","./GameSceneManager.js","./Ball/BallManager.js","../Algorithm/MathAlgorithm.js"],(function(e,t){var l,o,s,i,a,n,r,h,c,y,d,P,u,p,w,B,I,g,f,m,v,C,T,R,S,A;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){l=e.inherits,o=e.classCallCheck,s=e.possibleConstructorReturn,i=e.getPrototypeOf,a=e.createClass},function(e){n=e.cclegacy,r=e._decorator,h=e.geometry,c=e.find,y=e.macro,d=e.Vec3,P=e.PhysicsSystem,u=e.RigidBody,p=e.Component},function(e){w=e.GameData},function(e){B=e.SourceManager},function(e){I=e.BallType},function(e){g=e.GameSceneUI},function(e){f=e.PlayerController},function(e){m=e.GameSceneManager},function(e){v=e.BallManager},function(e){C=e.MathAlgorithm}],execute:function(){n._RF.push({},"368ceKgnqhCE4IyHlYMankL","RobotController",void 0),S=r.ccclass,r.property,A=h.ray,e("RobotController",(T=S("RobotController"),T(R=function(e){function t(){var e,l;o(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(l=s(this,(e=i(t)).call.apply(e,[this].concat(n)))).holes=new Array(6),l.whiteBallPos2=null,l.ganPos=null,l.center=null,l.left=null,l.right=null,l.Sphere=null,l.Sphere2=null,l.IsUseFreeBall=!1,l}return l(t,e),a(t,[{key:"onLoad",value:function(){t.I=this.node.getComponent(t)}},{key:"start",value:function(){var e=this;this.scheduleOnce((function(){e.Init(),e.ChooseBallLogic()}),5)}},{key:"Init",value:function(){for(var e=this,t=0;t<this.holes.length;t++)this.holes[t]=c("Table/hole"+t);this.whiteBallPos2=c("whiteBallPos2"),this.ganPos=this.whiteBallPos2.getChildByName("ganPos"),this.center=this.whiteBallPos2.getChildByName("Center"),this.left=this.whiteBallPos2.getChildByName("Left"),this.right=this.whiteBallPos2.getChildByName("Right"),this.Sphere=c("Sphere"),this.Sphere2=c("Sphere2"),this.schedule((function(){e.TurnLogicPart()}),5,y.REPEAT_FOREVER,10)}},{key:"TurnLogicPart",value:function(){if(!w.I.gameStop&&m.I.nowPlayerType==this.playerType&&!m.I.Players[this.playerType].IsHitBall){if(m.I.Players[this.playerType].IsFreeBall&&!this.IsUseFreeBall)return v.I.OpenFreeBall(),m.I.IsFirstRound?Math.random()>.8||(v.I.WhiteBall.worldPosition=C.ResetBallPos(I.SOLIDBALL,new d((Math.random()>.5?1:-1)*Math.random()*30-130,5.71,(Math.random()>.5?1:-1)*(70*Math.random())))):(c("Canvas/BallDrag/hand").active=!1,v.I.WhiteBall.worldPosition=C.ResetBallPos(I.SOLIDBALL,new d((Math.random()>.5?1:-1)*(130*Math.random()),5.71,(Math.random()>.5?1:-1)*(70*Math.random())))),void(this.IsUseFreeBall=!0);f.I.slider.enabled=!1,this.ChooseBallLogic()}}},{key:"ChooseBallLogic",value:function(){if(m.I.IsFirstRound)this.scheduleOnce(this.Hit,2);else{for(var e=new Array,t=new Array,l=0;l<v.I.AllBalls.length;l++){t.push(new Array(6));for(var o=0;o<this.holes.length;o++){var s=new d(this.holes[o].worldPosition.x-v.I.AllBalls[l].node.worldPosition.x,0,this.holes[o].worldPosition.z-v.I.AllBalls[l].node.worldPosition.z);t[l][o]=s}var i=new d(v.I.WhiteBall.worldPosition.x-v.I.AllBalls[l].node.worldPosition.x,0,v.I.WhiteBall.worldPosition.z-v.I.AllBalls[l].node.worldPosition.z);e.push(i)}for(var a=new Array,n=0;n<t.length;n++)for(var r=t[n],h=0;h<r.length;h++){var c=d.angle(e[n],r[h]),y={};y.angle=c,y.ballNumber=n+1,y.holeNumber=h,y.ballName=v.I.AllBalls[n].ballNumber,a.push(y)}if(0!=m.I.Players[this.playerType].TypeOfBallToBeHit&&1!=m.I.Players[this.playerType].TypeOfBallToBeHit&&3!=m.I.Players[this.playerType].TypeOfBallToBeHit)for(var P=a.length-1;P>=0;P--)8==a[P].ballName&&(console.log(a[P]),a.splice(P,1));else if(0==m.I.Players[this.playerType].TypeOfBallToBeHit)for(var u=a.length-1;u>=0;u--)a[u].ballName>=8&&a.splice(u,1);else if(1==m.I.Players[this.playerType].TypeOfBallToBeHit)for(var p=a.length-1;p>=0;p--)a[p].ballName<=8&&a.splice(p,1);else if(3==m.I.Players[this.playerType].TypeOfBallToBeHit)for(var w=a.length-1;w>=0;w--)8!=a[w].ballName&&a.splice(w,1);for(var B=0;B<a.length-1;B++)for(var I=B+1;I<a.length;I++)if(a[I].angle>a[B].angle){var g=a[B];a[B]=a[I],a[I]=g}for(var f=0;f<a.length;f++){var C=a[f],T=v.I.AllBalls[C.ballNumber-1].node,R=this.holes[C.holeNumber],S=this.CreateTargetPos(T.worldPosition,T.worldPosition,R.worldPosition);if(this.whiteBallPos2.setWorldPosition(v.I.WhiteBall.worldPosition),this.whiteBallPos2.lookAt(1==S?this.Sphere.position:this.Sphere2.position),this.CreateRayJudgeNearestBall().name==T.name&&this.CreateRay(T.worldPosition,R.worldPosition))return v.I.whiteBallPos.lookAt(1==S?this.Sphere.position:this.Sphere2.position),void this.scheduleOnce(this.Hit,2)}for(var A=0;A<a.length;A++){var b=a[A],x=v.I.AllBalls[b.ballNumber-1].node,M=this.holes[b.holeNumber],z=this.CreateTargetPos(x.worldPosition,x.worldPosition,M.worldPosition);if(this.whiteBallPos2.setWorldPosition(v.I.WhiteBall.worldPosition),this.whiteBallPos2.lookAt(1==z?this.Sphere.position:this.Sphere2.position),this.CreateRayJudgeNearestBall().name==x.name)return v.I.whiteBallPos.lookAt(1==z?this.Sphere.position:this.Sphere2.position),void this.scheduleOnce(this.Hit,2)}console.log("没有可以打的球",a[0]);var N=a[0],k=v.I.AllBalls[N.ballNumber-1].node,F=this.holes[N.holeNumber],H=this.CreateTargetPos(k.worldPosition,k.worldPosition,F.worldPosition);this.whiteBallPos2.setWorldPosition(v.I.WhiteBall.worldPosition),this.whiteBallPos2.lookAt(1==H?this.Sphere.position:this.Sphere2.position),v.I.whiteBallPos.lookAt(1==H?this.Sphere.position:this.Sphere2.position),this.scheduleOnce(this.Hit,2)}}},{key:"CreateRayJudgeNearestBall",value:function(){var e,t,l,o,s,i,a,n,r,h=new d(this.center.worldPosition.x-this.ganPos.worldPosition.x,0,this.center.worldPosition.z-this.ganPos.worldPosition.z),c=new A(this.center.worldPosition.x,this.center.worldPosition.y,this.center.worldPosition.z,h.x,0,h.z),y=new A(this.left.worldPosition.x,this.left.worldPosition.y,this.left.worldPosition.z,h.x,0,h.z),u=new A(this.right.worldPosition.x,this.right.worldPosition.y,this.right.worldPosition.z,h.x,0,h.z);if(P.instance.raycastClosest(c,1)&&(o=P.instance.raycastClosestResult.collider,a=new d(P.instance.raycastClosestResult.hitPoint.x,P.instance.raycastClosestResult.hitPoint.y,P.instance.raycastClosestResult.hitPoint.z)),P.instance.raycastClosest(y,1)&&(s=P.instance.raycastClosestResult.collider,n=new d(P.instance.raycastClosestResult.hitPoint.x,P.instance.raycastClosestResult.hitPoint.y,P.instance.raycastClosestResult.hitPoint.z)),P.instance.raycastClosest(u,1)&&(i=P.instance.raycastClosestResult.collider,r=new d(P.instance.raycastClosestResult.hitPoint.x,P.instance.raycastClosestResult.hitPoint.y,P.instance.raycastClosestResult.hitPoint.z)),a&&n&&r){e=d.distance(this.center.worldPosition,a),t=d.distance(this.left.worldPosition,n),l=d.distance(this.right.worldPosition,r);var p=Math.min(e,t,l);return p==e?o.node:p==t?s.node:p==l?i.node:void 0}}},{key:"CreateRay",value:function(e,t){var l=new d(t.x-e.x,0,t.z-e.z),o=new A(e.x,e.y,e.z,l.x,0,l.z),s=new Array;return P.instance.raycast(o)&&(s=P.instance.raycastResults),s.length>=2&&("dong"==s[s.length-2].collider.node.name||"well"==s[s.length-2].collider.node.name)}},{key:"CreateTargetPos",value:function(e,t,l){if(e){var o,s,i=e.x,a=e.z,n=11.42,r=t.x,h=t.z,c=l.x,y=l.z;if(t.x==l.x){var P=-2*a,u=a*a+(r-i)*(r-i)-n*n,p=r,w=(-P+Math.sqrt(P*P-4*u))/2,B=r,I=(-P-Math.sqrt(P*P-4*u))/2;o=new d(p,0,w),s=new d(B,0,I)}else if(t.z==l.z){var g=-2*i,f=i*i+(h-a)*(h-a)-n*n,m=(-g+Math.sqrt(g*g-4*f))/2,v=h,C=(-g-Math.sqrt(g*g-4*f))/2,T=h;o=new d(m,0,v),s=new d(C,0,T)}else{var R=(y-h)/(c-r),S=h-r*(y-h)/(c-r),A=1+R*R,b=2*R*S-2*a*R-2*i,x=S*S-2*a*S+i*i+a*a-n*n,M=(-b+Math.sqrt(b*b-4*A*x))/(2*A),z=R*M+S,N=(-b-Math.sqrt(b*b-4*A*x))/(2*A),k=R*N+S;o=new d(M,0,z),s=new d(N,0,k)}return this.Sphere.setWorldPosition(o),this.Sphere2.setWorldPosition(s),d.distance(this.center.worldPosition,o)<d.distance(this.center.worldPosition,s)?1:2}}},{key:"Hit",value:function(){if(m.I.nowPlayerType==this.playerType)if(g.I.EndReckonTime(),m.I.Players[m.I.nowPlayerType].IsHitBall)console.log("本回合玩家",m.I.nowPlayerType,"已经击打过球了，请等待下一回合");else{m.I.Players[m.I.nowPlayerType].IsFreeBall&&(console.log("本回合玩家",m.I.nowPlayerType,"有自由球权，现已经打过球了，重置自由球权，并关闭自由球移动规定"),c("Canvas/BallDrag").active=!1,v.I.CloseFreeBall(),m.I.Players[m.I.nowPlayerType].IsFreeBall=!1,this.IsUseFreeBall=!1),c("Gun/Cylinder").active=!1,c("Line").active=!1,c("Canvas/GunDrag2").active=!1,f.I.slider.enabled=!1,B.I.Gun2Ball();var e=100+200*Math.random();v.I.WhiteBall.getComponent(u).applyImpulse(new d(m.I.Players[m.I.nowPlayerType].ForceDirection.x*e,0,m.I.Players[m.I.nowPlayerType].ForceDirection.z*e)),m.I.Players[m.I.nowPlayerType].IsStartFollow=!1,v.I.isAllBallStop=!1,m.I.Players[m.I.nowPlayerType].IsHitBall=!0,v.I.ResetWhiteBallFirstTouchBallValue()}}}]),t}(p))||R)),n._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/GameSceneManager.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/MKEventDispatch.js","../GameData.js","../Popup/PopupManager.js","./RoundType.js","../../Common/ServerCommon.js","./Ball/BallType.js","./Player.js","./UI/GameSceneUI.js","./UI/PlayerController.js","./RobotController.js","./Ball/BallManager.js"],(function(e,l){var a,o,s,t,i,n,r,y,h,p,u,P,T,B,I,c,w,g,d,f,v,m,G,b,C,S,H,O,F,R,k,A,L,N,D;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){a=e.applyDecoratedDescriptor,o=e.inherits,s=e.classCallCheck,t=e.possibleConstructorReturn,i=e.getPrototypeOf,n=e.initializerDefineProperty,r=e.assertThisInitialized,y=e.createClass},function(e){h=e.cclegacy,p=e._decorator,u=e.SpriteComponent,P=e.find,T=e.SliderComponent,B=e.Vec3,I=e.Color,c=e.tween,w=e.Component},function(e){g=e.default},function(e){d=e.GameData},function(e){f=e.PopupManager},function(e){v=e.RoundType},function(e){m=e.ServerCommon},function(e){G=e.BallType},function(e){b=e.Player},function(e){C=e.GameSceneUI},function(e){S=e.PlayerController},function(e){H=e.RobotController},function(e){O=e.BallManager}],execute:function(){h._RF.push({},"ad1cbxSIh9DWokWY2sI0MQw","GameSceneManager",void 0),N=p.ccclass,D=p.property,e("GameSceneManager",(F=N("GameSceneManager"),R=D(u),F((L=a((A=function(e){function l(){var e,a;s(this,l);for(var o=arguments.length,y=new Array(o),h=0;h<o;h++)y[h]=arguments[h];return(a=t(this,(e=i(l)).call.apply(e,[this].concat(y)))).Players=new Array(2),a.nowPlayerType=v.Play1,a.thisPlayer=v.Play1,a.IsFirstRound=!0,a.inHoleBallNumber=0,n(a,"combos",L,r(a)),a}return o(l,e),y(l,[{key:"onEnable",value:function(){var e=this;l.I=this.node.getComponent(l),this.Players[0]=new b,this.Players[1]=new b,this.Players[0].PlayerType=v.Play1,this.Players[1].PlayerType=v.Play2,this.nowPlayerType=d.I.loadData.nowPlayerType,this.thisPlayer=d.I.loadData.thisPlayer,H.I.playerType=1-d.I.loadData.thisPlayer,console.log(0==this.nowPlayerType?"玩家1":"玩家2","开球"),this.Players[this.nowPlayerType].IsFreeBall=!0,m.gload(100,"bet"),this.scheduleOnce((function(){C.I.StartReckonTime(),e.nowPlayerType==e.thisPlayer?C.I.ShowTip2("Your Turn"):C.I.ShowTip2("The Opponent's Turn")}),4),this.addEventDispatch()}},{key:"addEventDispatch",value:function(){g.I.on("androidGoback",this.androidGoback.bind(this),this),g.I.on("onAndroidStop",this.onAndroidStop.bind(this),this),g.I.on("onAndroidResume",this.onAndroidResume.bind(this),this)}},{key:"androidGoback",value:function(){if(d.I.gameStop){var e=P("Canvas/ExitTipPopup");e?f.I.ClosePopup(P("Canvas"),!0,e):f.I.ShowPopup(P("Canvas"),"ExitTipPopup",!0)}else this.ReturnMainScene()}},{key:"onAndroidStop",value:function(){console.log("切后台"),this.AndroidStopTime=Date.now()}},{key:"onAndroidResume",value:function(){console.log("回到前台"),this.AndroidResumeTime=Date.now(),d.I.gameStop||(this.AndroidResumeTime-this.AndroidStopTime)/1e3>120&&(console.log("切后台时间大于2分钟 判定失败"),d.I.gameStop=!0,l.I.Players[l.I.thisPlayer].IsSeriousFoul=!0,console.log("游戏结束",l.I.thisPlayer,"失败"),d.I.Winer=1-l.I.thisPlayer,f.I.ShowPopup(P("Canvas"),"LosePopup"))}},{key:"IsOwnerRound",value:function(){return this.nowPlayerType==this.thisPlayer&&0==this.Players[this.nowPlayerType].IsHitBall}},{key:"RoundEndChangePlayer",value:function(){console.log("Player",this.nowPlayerType,"回合结束"),l.I.Players[l.I.nowPlayerType].IsFreeBall&&(S.I.FreeBall_Touch_End(null),P("Canvas/BallDrag").active=!1,O.I.CloseFreeBall(),l.I.Players[l.I.nowPlayerType].IsFreeBall=!1),console.log(l.I.Players[l.I.nowPlayerType].IsFreeBall),console.log("Player",this.nowPlayerType,"判断是否有违规情况"),this.JudgeFoul(),this.JudgeIsGoalBall(),this.IsFirstRound&&(this.IsFirstRound=!1),this.Players[this.nowPlayerType].TypeOfBallToBeHit!=G.BLACKBALL&&this.JudgePlayerTargetBallIsOver()&&(this.Players[this.nowPlayerType].TypeOfBallToBeHit=G.BLACKBALL),C.I.showBall(),d.I.gameStop||(this.CloseBallLight(),S.I.slider.enabled=!1,this.nowPlayerType=this.JudgeWhoseurn(this.nowPlayerType),console.log(l.I.Players[l.I.nowPlayerType].IsFreeBall),P("Gun/Cylinder").active=!0,P("Line").active=!0,this.Players[this.nowPlayerType].TypeOfBallToBeHit!=G.BLACKBALL&&this.JudgePlayerTargetBallIsOver()&&(this.Players[this.nowPlayerType].TypeOfBallToBeHit=G.BLACKBALL),this.ShowBallLight(),C.I.StartReckonTime(),this.nowPlayerType==this.thisPlayer&&(P("Canvas/Slider").getComponent(T).enabled=!0,P("Canvas/GunDrag2").active=!0),O.I.ResetBall(),this.ResetFoul(),console.log("Player",this.nowPlayerType,"回合开始"),console.log("Player",this.nowPlayerType,"的球的类型是",this.Players[this.nowPlayerType].TypeOfBallToBeHit),this.Players[this.nowPlayerType].IsHitBall=!1)}},{key:"ResetFoul",value:function(){console.log("重置违规情况","当前是玩家",this.nowPlayerType,"的回合","重置的是玩家",1-this.nowPlayerType,"的违规情况"),this.Players[1-this.nowPlayerType].IsFoul=!1}},{key:"JudgeFoul",value:function(){if(console.log(O.I.whiteBallFirstTouchBallType),this.Players[this.nowPlayerType].IsSeriousFoul)console.log("游戏结束",this.nowPlayerType,"失败");else{if(l.I.Players[l.I.nowPlayerType].IsHitBall||(this.Players[this.nowPlayerType].IsFoul=!0),O.I.whiteBallComponent.isGoal&&(this.Players[this.nowPlayerType].IsFoul=!0),O.I.BlackBallComponent.isGoal&&O.I.whiteBallComponent.isGoal)return this.UpdateEndGameData(1-this.nowPlayerType,this.nowPlayerType),this.Players[this.nowPlayerType].IsSeriousFoul=!0,void(d.I.gameStop=!0);-1==O.I.whiteBallFirstTouchBallType?(C.I.ShowTip("Didn't hit your object ball. "),this.Players[this.nowPlayerType].IsFoul=!0):null!=this.Players[this.nowPlayerType].TypeOfBallToBeHit&&this.Players[this.nowPlayerType].TypeOfBallToBeHit!=O.I.whiteBallFirstTouchBallType?(C.I.ShowTip("Hit opponent's object ball first."),this.Players[this.nowPlayerType].IsFoul=!0):null!=this.Players[this.nowPlayerType].TypeOfBallToBeHit||this.IsFirstRound||O.I.whiteBallFirstTouchBallType!=G.BLACKBALL||(C.I.ShowTip("Didn't hit your object ball. "),this.Players[this.nowPlayerType].IsFoul=!0)}}},{key:"JudgeWhoseurn",value:function(e){var l=this,a=e==v.Play1?v.Play2:v.Play1;return this.Players[e].RoundEnd(),this.Players[e].IsSeriousFoul?(this.UpdateEndGameData(a,1-a),e):this.Players[e].IsFoul?(this.inHoleBallNumber=0,O.I.ResetWhiteBallPos(),this.scheduleOnce((function(){a==l.thisPlayer?C.I.ShowTip2("Your Turn"):C.I.ShowTip2("The Opponent's Turn")}),1),this.Players[a].IsStartFollow=!0,this.Players[a].IsUnActiveGun=!1,this.Players[a].IsFreeBall=!0,this.Players[a].IsHaveBallRight=!1,this.Players[a].IsRoundEnd=!0,a):this.Players[e].IsContinuousBatting?(e==this.thisPlayer?C.I.ShowTip2("Your Turn"):C.I.ShowTip2("The Opponent's Turn"),this.Players[e].IsHaveBallRight=!0,e):(a==this.thisPlayer?C.I.ShowTip2("Your Turn"):C.I.ShowTip2("The Opponent's Turn"),this.Players[a].IsHaveBallRight=!0,this.Players[a].IsStartFollow=!0,this.Players[a].IsRoundEnd=!0,a)}},{key:"JudgeIsGoalBall",value:function(){var e=O.I.GoalBalls.length-O.I.GoalBallNumber;if(O.I.blackBallIsGoal&&(this.IsFirstRound?(O.I.ResetBlackBallPos(),O.I.blackBallIsGoal=!1,O.I.BlackBall.active=!0,O.I.BlackBallComponent.isGoal=!1):(d.I.gameStop=!0,this.JudgePlayerTargetBallIsOver()&&!O.I.whiteBallComponent.isGoal?(this.UpdateEndGameData(this.nowPlayerType,1-this.nowPlayerType),d.I.Winer=this.nowPlayerType,console.log("玩家",this.nowPlayerType,"Win"),d.I.gameStop=!0,d.I.Winer==this.thisPlayer?f.I.ShowPopup(P("Canvas"),"WinPopup"):f.I.ShowPopup(P("Canvas"),"LosePopup")):(this.UpdateEndGameData(1-this.nowPlayerType,this.nowPlayerType),console.log("玩家",this.nowPlayerType,"Lose"),d.I.Winer=1-this.nowPlayerType,this.Players[this.nowPlayerType].IsSeriousFoul=!0,d.I.gameStop=!0,d.I.Winer==this.thisPlayer?f.I.ShowPopup(P("Canvas"),"WinPopup"):f.I.ShowPopup(P("Canvas"),"LosePopup")))),0==e)console.log("没有进球"),this.inHoleBallNumber=0,this.Players[this.nowPlayerType].IsContinuousBatting=!1;else if(1==e){if(console.log("进球了1个球"),this.IsFirstRound)return this.Players[this.nowPlayerType].IsContinuousBatting=!0,void(O.I.GoalBallNumber=O.I.GoalBalls.length);if(0!=this.Players[this.nowPlayerType].TypeOfBallToBeHit&&1!=this.Players[this.nowPlayerType].TypeOfBallToBeHit&&3!=this.Players[this.nowPlayerType].TypeOfBallToBeHit)console.log("这个进球是本局的第一个单独进球"),this.Players[this.nowPlayerType].TypeOfBallToBeHit=O.I.GoalBalls[O.I.GoalBalls.length-1].ballTpye,this.Players[1-this.nowPlayerType].TypeOfBallToBeHit=1-O.I.GoalBalls[O.I.GoalBalls.length-1].ballTpye,console.log("玩家",1-this.nowPlayerType,"的球的类型是",this.Players[1-this.nowPlayerType].TypeOfBallToBeHit),console.log("玩家",this.nowPlayerType,"的球的类型是",this.Players[this.nowPlayerType].TypeOfBallToBeHit),O.I.GoalBallNumber=O.I.GoalBalls.length,this.Players[this.nowPlayerType].IsContinuousBatting=!0;else if(this.Players[this.nowPlayerType].TypeOfBallToBeHit!=O.I.GoalBalls[O.I.GoalBalls.length-1].ballTpye)return console.log("打进的球不是目标球，不犯规，没有连续击球权"),this.inHoleBallNumber=0,this.Players[this.nowPlayerType].IsContinuousBatting=!1,void(O.I.GoalBallNumber=O.I.GoalBalls.length);console.log("打进的球的类型为",O.I.GoalBalls[O.I.GoalBalls.length-1].ballTpye),console.log("目标类型为",this.Players[this.nowPlayerType].TypeOfBallToBeHit),O.I.GoalBallNumber=O.I.GoalBalls.length,this.Players[this.nowPlayerType].IsContinuousBatting=!0}else if(e>1){if(this.IsFirstRound)return this.Players[this.nowPlayerType].IsContinuousBatting=!0,void(O.I.GoalBallNumber=O.I.GoalBalls.length);if(0==this.Players[this.nowPlayerType].TypeOfBallToBeHit||1==this.Players[this.nowPlayerType].TypeOfBallToBeHit||3==this.Players[this.nowPlayerType].TypeOfBallToBeHit||this.IsFirstRound)return this.JudgeGoalBallIsTargetType()?(this.Players[this.nowPlayerType].IsContinuousBatting=!0,void(O.I.GoalBallNumber=O.I.GoalBalls.length)):(O.I.GoalBallNumber=O.I.GoalBalls.length,this.Players[this.nowPlayerType].IsContinuousBatting=!1,void(this.inHoleBallNumber=0));if(!this.JudgeGoalBallIsSameType())return O.I.GoalBallNumber=O.I.GoalBalls.length,void(this.Players[this.nowPlayerType].IsContinuousBatting=!0);console.log("这个进球是本局的第一个连续进同样类型的球的进球"),this.Players[this.nowPlayerType].TypeOfBallToBeHit=O.I.GoalBalls[O.I.GoalBalls.length-1].ballTpye,this.Players[1-this.nowPlayerType].TypeOfBallToBeHit=1-O.I.GoalBalls[O.I.GoalBalls.length-1].ballTpye,console.log("玩家",1-this.nowPlayerType,"的球的类型是",this.Players[1-this.nowPlayerType].TypeOfBallToBeHit),console.log("玩家",this.nowPlayerType,"的球的类型是",this.Players[this.nowPlayerType].TypeOfBallToBeHit),O.I.GoalBallNumber=O.I.GoalBalls.length,this.Players[this.nowPlayerType].IsContinuousBatting=!0}}},{key:"JudgeGoalBallIsSameType",value:function(){for(var e=O.I.GoalBallNumber;e<O.I.GoalBalls.length;e++){var l=O.I.GoalBalls[e];if(O.I.GoalBalls[O.I.GoalBallNumber].ballTpye!=l.ballTpye)return!1}return!0}},{key:"JudgeGoalBallIsTargetType",value:function(){for(var e=O.I.GoalBallNumber;e<O.I.GoalBalls.length;e++){var l=O.I.GoalBalls[e];if(this.Players[this.nowPlayerType].TypeOfBallToBeHit==l.ballTpye)return!0}return!1}},{key:"JudgePlayerTargetBallIsOver",value:function(){var e=0;if(3==this.Players[this.nowPlayerType].TypeOfBallToBeHit)return!0;for(var l=0;l<O.I.GoalBalls.length;l++){O.I.GoalBalls[l].ballTpye==this.Players[this.nowPlayerType].TypeOfBallToBeHit&&e++}return console.log("判断玩家的目标球是否已经打完了",e),console.log("判断玩家的目标球是否已经打完了",O.I.GoalBalls),7==e}},{key:"UpdateEndGameData",value:function(e,l){d.I.SettlementData.winPlayer=e,d.I.SettlementData.lostPlayer=l}},{key:"ReturnMainScene",value:function(){var e=P("Canvas/TipPopup");e?f.I.ClosePopup(P("Canvas"),!0,e):f.I.ShowPopup(P("Canvas"),"TipPopup",!0)}},{key:"ShowBallLight",value:function(){if(this.nowPlayerType==this.thisPlayer){if(0!=this.Players[this.thisPlayer].TypeOfBallToBeHit&&1!=this.Players[this.thisPlayer].TypeOfBallToBeHit&&3!=this.Players[this.thisPlayer].TypeOfBallToBeHit){for(var e=0;e<O.I.AllBalls.length;e++){var l=O.I.AllBalls[e],a=l.node.getChildByName("Light");console.log(a),3==l.ballTpye?a.active=!1:a.active=!0}return}for(var o=0;o<O.I.AllBalls.length;o++){var s=O.I.AllBalls[o],t=s.node.getChildByName("Light");console.log(t),s.ballTpye==this.Players[this.thisPlayer].TypeOfBallToBeHit?t.active=!0:t.active=!1}}}},{key:"CloseBallLight",value:function(){for(var e=0;e<O.I.AllBalls.length;e++){O.I.AllBalls[e].node.getChildByName("Light").active=!1}}},{key:"ShowCombo",value:function(){if(this.inHoleBallNumber++,console.log("连续进球数为: ",this.inHoleBallNumber),0!=this.inHoleBallNumber&&1!=this.inHoleBallNumber)for(var e=0;e<this.combos.length;e++){var l=this.combos[e];this.inHoleBallNumber-2==e&&(l.node.setPosition(new B(0,0,0)),l.color=new I(255,255,255,255),l.node.active=!0,c(l.node).to(1,{position:new B(-170,0,0)},{easing:"circOut"}).start(),c(l.color).to(.5,new I(255,255,255,255),{easing:"circOut"}).start(),c(l.color).delay(1.3).to(.5,new I(255,255,255,0),{easing:"circOut"}).start())}}}]),l}(w)).prototype,"combos",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=A))||k)),h._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/Ball.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../../../Common/SourceManager.js","./BallType.js","../GameSceneManager.js"],(function(e,i){var n,t,o,l,a,r,s,c,u,d,h,p,y,g,f,v,m,S,b,w,B,C,I,T,_,k,P;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,o=e.classCallCheck,l=e.possibleConstructorReturn,a=e.getPrototypeOf,r=e.initializerDefineProperty,s=e.assertThisInitialized,c=e.createClass},function(e){u=e.cclegacy,d=e._decorator,h=e.Enum,p=e.SphereCollider,y=e.RigidBody,g=e.Vec3,f=e.Component},function(e){v=e.SourceManager},function(e){m=e.BallType},function(e){S=e.GameSceneManager}],execute:function(){u._RF.push({},"2034cfbTABHJ7bcvXretBMy","Ball",void 0),k=d.ccclass,P=d.property,e("Ball",(b=k("Ball"),w=P({type:h(m)}),B=P(Number),b((T=n((I=function(e){function i(){var e,n;o(this,i);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return n=l(this,(e=a(i)).call.apply(e,[this].concat(c))),r(n,"ballTpye",T,s(n)),r(n,"ballNumber",_,s(n)),n.isGoal=!1,n.isStop=!0,n.isPlaySource=!1,n.startinHoleAnimation=!1,n}return t(i,e),c(i,[{key:"start",value:function(){this.node.getComponent(p).on("onCollisionEnter",this.onCollisionEnter,this),this.node.getComponent(p).on("onTriggerEnter",this.onTriggerEnter,this),this.rig=this.node.getComponent(y),this.owner=this.node.getComponent(i),this.Init()}},{key:"Init",value:function(){var e=this;this.isPlaySource=!1,this.scheduleOnce((function(){e.isPlaySource=!0}),4)}},{key:"playSource",value:function(e){S.I.Players[S.I.nowPlayerType].IsFreeBall||this.isPlaySource&&("Table"==e.node.name?v.I.Ball2Table():"dong"==e.node.name?v.I.InHole():v.I.Ball2Ball())}},{key:"onCollisionEnter",value:function(e){var i=e.otherCollider;this.playSource(i)}},{key:"onTriggerEnter",value:function(e){}},{key:"update",value:function(){this.JudgeIsStop()}},{key:"JudgeIsStop",value:function(){var e=new g(0,0,0);this.rig.getLinearVelocity(e),Math.abs(e.x)<=.8&&Math.abs(e.z)<=.8?(this.rig.clearVelocity(),this.isStop=!0):this.isStop=!1}},{key:"Rest",value:function(){this.isGoal=!1,this.isStop=!0,this.node.children[0].scale=new g(11.42,11.42,11.42),this.node.children[0].scale=new g(11.42,11.42,11.42),this.rig.clearState()}},{key:"animation",value:function(){this.isGoal&&this.rig.clearState(),this.node.children[0].scale=new g(5.71,5.71,5.71)}},{key:"inHoleAnimation",value:function(e){var i=this,n=0;this.startinHoleAnimation||this.schedule((function(){if(i.startinHoleAnimation=!0,i.rig.isKinematic=!0,i.owner.isStop=!0,g.distance(e,i.node.worldPosition)>3){var t=new g;g.lerp(t,i.node.worldPosition,e,.4),i.node.setWorldPosition(t)}else if(n<=1)n++;else{var o=new g;g.lerp(o,i.node.worldScale,new g(0,0,0),.4),i.node.setWorldScale(o),g.distance(new g(0,0,0),i.node.worldScale)<.45&&(i.node.active=!1,i.unschedule(i.inHoleAnimation))}}),.02)}}]),i}(f)).prototype,"ballTpye",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.WHITEBALL}}),_=n(I.prototype,"ballNumber",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=I))||C)),u._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/RackManager.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(l,a){var o,n,t,i,e,s,r,c,h,u,d,w,f,B,m,v;return l({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(l){o=l.inherits,n=l.classCallCheck,t=l.possibleConstructorReturn,i=l.getPrototypeOf,e=l.createClass},function(l){s=l.cclegacy,r=l._decorator,c=l.Vec3,h=l.macro,u=l.Quat,d=l.Component}],execute:function(){s._RF.push({},"08056e5HnpMD6j2Hpa1t/iO","RackManager",void 0),v=r.ccclass,r.property,l("RackManager",(w=v("RackManager"),w((m=B=function(l){function a(){var l,o;n(this,a);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(o=t(this,(l=i(a)).call.apply(l,[this].concat(s)))).GoalBalls=new Array,o.nowBall=null,o.ballindex=0,o}return o(a,l),e(a,[{key:"onEnable",value:function(){a.I=this.node.getComponent(a),a.allBall=new Array,this.GoalBalls=new Array}},{key:"start",value:function(){}},{key:"GoalBallAnimation",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!(l>a.allBall.length)){var o=a.allBall[l-1];this.GoalBalls.indexOf(o)>=0||(this.GoalBalls.push(o),this.node.addChild(o),o.worldPosition=new c(185,-15,-67),this.nowBall||(this.nowBall=o,this.Play(this.nowBall)))}}},{key:"Play",value:function(l){var a=this,o=1;this.ballindex=this.GoalBalls.indexOf(l),this.schedule((function(){a.mmm(++o,l)}),.001,h.REPEAT_FOREVER)}},{key:"mmm",value:function(l,a){var o=new u;l<=100?(a.worldPosition=new c(a.worldPosition.x+.25,-15,-67),u.fromEuler(o,0,-3,0),a.children[0].rotate(o,1)):l<=125?(125==l&&(-1!=this.ballindex&&this.ballindex!=this.GoalBalls.length-1?(this.nowBall=this.GoalBalls[this.ballindex+1],this.Play(this.nowBall)):this.nowBall=null),a.worldPosition=new c(a.worldPosition.x+.2,-15,a.worldPosition.z+.12),u.fromEuler(o,1,-2,0),a.children[0].rotate(o,1)):l<=140?(a.worldPosition=new c(a.worldPosition.x+2/15,-15,a.worldPosition.z+4/15),u.fromEuler(o,2,-4,0),a.children[0].rotate(o,1)):l<=240-7*this.GoalBalls.indexOf(a)?(a.worldPosition=new c(217,-15,a.worldPosition.z+1.6),u.fromEuler(o,32,0,0),a.children[0].rotate(o,1)):this.unschedule(this.Play)}}]),a}(d),B.allBall=new Array,f=m))||f)),s._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/WhiteBall.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../UI/GameSceneUI.js","../GameSceneManager.js","./Ball.js","./BallManager.js"],(function(e,l){var t,a,n,i,o,r,s,c,u,h,g,B,p,d;return e({_dec:void 0,_class:void 0}),{setters:[function(e){t=e.inherits,a=e.createClass,n=e.classCallCheck,i=e.possibleConstructorReturn,o=e.getPrototypeOf},function(e){r=e.cclegacy,s=e._decorator},function(e){c=e.GameSceneUI},function(e){u=e.GameSceneManager},function(e){h=e.Ball},function(e){g=e.BallManager}],execute:function(){r._RF.push({},"84c5a4vPB1NJqs8K3+avoSk","WhiteBall",void 0),d=s.ccclass,s.property,e("WhiteBall",(B=d("WhiteBall"),B(p=function(e){function l(){return n(this,l),i(this,o(l).apply(this,arguments))}return t(l,e),a(l,[{key:"onTriggerEnter",value:function(e){if(!this.JudgingFreeBallTime()){var l=e.otherCollider;"dong"==l.node.name&&(c.I.ShowTip("Cue Ball into Pocket"),this.playSource(l),g.I.wihteBallIsGoal=!0,this.isGoal=!0,this.rig.clearState(),this.node.active=!1,this.owner.isStop=!0)}}},{key:"onCollisionEnter",value:function(e){var l=e.otherCollider;this.JudgingFreeBallTime()||(this.playSource(l),this.JudgingTheFirstBallTouched(l))}},{key:"JudgingTheFirstBallTouched",value:function(e){var l=e.node.getComponent(h);l&&-1==g.I.whiteBallFirstTouchBallType&&(g.I.whiteBallFirstTouchBallType=l.ballTpye,console.log("本回合第一个碰到的球为",l.ballTpye))}},{key:"JudgingFreeBallTime",value:function(){return!!u.I.Players[u.I.nowPlayerType].IsFreeBall&&(console.log("自由球状态 不检测碰撞"),!0)}}]),l}(h))||p)),r._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/BallManager.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","./BallType.js","../GameSceneManager.js","./Ball.js","./RackManager.js","./WhiteBall.js","../../Algorithm/MathAlgorithm.js"],(function(l,e){var a,t,i,n,o,s,r,B,c,h,u,p,y,m,g,f,d,I,v,w,C,A,P,T,k,S,W,G,b,R,M,_,j;return l({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(l){a=l.applyDecoratedDescriptor,t=l.inherits,i=l.classCallCheck,n=l.possibleConstructorReturn,o=l.getPrototypeOf,s=l.initializerDefineProperty,r=l.assertThisInitialized,B=l.createClass},function(l){c=l.cclegacy,h=l._decorator,u=l.Node,p=l.PhysicsSystem,y=l.Vec3,m=l.find,g=l.SphereColliderComponent,f=l.RigidBodyComponent,d=l.RigidBody,I=l.Component},function(l){v=l.BallType},function(l){w=l.GameSceneManager},function(l){C=l.Ball},function(l){A=l.RackManager},function(l){P=l.WhiteBall},function(l){T=l.MathAlgorithm}],execute:function(){c._RF.push({},"dd40fBTdSxPOop5YJwmPBzq","BallManager",void 0),_=h.ccclass,j=h.property,l("BallManager",(k=_("BallManager"),S=j(u),W=j(u),k((R=a((b=function(l){function e(){var l,a;i(this,e);for(var t=arguments.length,B=new Array(t),c=0;c<t;c++)B[c]=arguments[c];return a=n(this,(l=o(e)).call.apply(l,[this].concat(B))),s(a,"WhiteBall",R,r(a)),s(a,"whiteBallPos",M,r(a)),a.AllBallsofNode=new Array,a.RedBalls=new Array,a.YellowBalls=new Array,a.BlackBall=null,a.BlackBallComponent=null,a.wihteBallIsGoal=!1,a.blackBallIsGoal=!1,a.GoalBalls=new Array,a.UnGoalBalls=new Array,a.AllBalls=new Array,a.whiteBallComponent=null,a.isAllBallStop=!1,a.GoalBallNumber=0,a}return t(e,l),B(e,[{key:"start",value:function(){var l=this;p.instance.maxSubSteps=8,p.instance.fixedTimeStep=1/150,this.Init(),this.schedule((function(){w.I.Players[w.I.nowPlayerType].IsHitBall&&(l.isAllBallStop||l.IsAllBallIsStop()&&(l.isAllBallStop=!0,w.I.RoundEndChangePlayer()))}),.2)}},{key:"Init",value:function(){e.I=this.node.getComponent(e),this.whiteBallComponent=this.WhiteBall.getComponent(P),this.WhiteBall.setWorldPosition(new y((Math.random()<.5?1:-1)*(3*Math.random())-130,5.71,(Math.random()<.5?1:-1)*(3*Math.random()))),this.UnGoalBalls=this.AllBalls}},{key:"ResetWhiteBallFirstTouchBallValue",value:function(){this.whiteBallFirstTouchBallType=-1}},{key:"ResetWhiteBallIsGoal",value:function(){this.wihteBallIsGoal=!1}},{key:"IsAllBallIsStop",value:function(){if(!this.whiteBallComponent.isStop)return!1;for(var l=0;l<this.AllBalls.length;l++){if(!this.AllBalls[l].isStop)return!1}return!0}},{key:"OpenFreeBall",value:function(){for(var l=0;l<this.AllBalls.length;l++){this.AllBalls[l];this.AllBalls[l].rig.isKinematic=!0}this.WhiteBall.getComponent(C).rig.linearDamping=.999999999}},{key:"CloseFreeBall",value:function(){for(var l=0;l<this.AllBalls.length;l++){this.AllBalls[l];this.AllBalls[l].rig.isKinematic=!1}this.WhiteBall.getComponent(C).rig.linearDamping=.4}},{key:"GoalBall",value:function(l){var e=l.getComponent(C);this.GoalBalls.push(e),e.isStop=!0;var a=e.ballNumber;0!=w.I.Players[w.I.nowPlayerType].TypeOfBallToBeHit&&1!=w.I.Players[w.I.nowPlayerType].TypeOfBallToBeHit&&2!=w.I.Players[w.I.nowPlayerType].TypeOfBallToBeHit?w.I.ShowCombo():w.I.Players[w.I.nowPlayerType].TypeOfBallToBeHit==e.ballTpye&&w.I.ShowCombo(),A.I.GoalBallAnimation(a)}},{key:"ResetWhiteBallPos",value:function(){m("Canvas/BallDrag").active=!0,m("Canvas/BallDrag/hand").active=!0,console.log("重置白球位置"),e.I.WhiteBall.active=!0,e.I.WhiteBall.setWorldScale(new y(11.42,11.42,11.42)),e.I.WhiteBall.getComponent(g).isTrigger=!1,e.I.WhiteBall.getComponent(f).isKinematic=!1,e.I.WhiteBall.worldPosition=T.ResetBallPos(v.WHITEBALL),e.I.WhiteBall.getComponent(d).clearState()}},{key:"ResetBlackBallPos",value:function(){console.log("重置黑球位置"),e.I.BlackBall.worldPosition=T.ResetBallPos(v.BLACKBALL),e.I.BlackBall.getComponent(d).clearState()}},{key:"ResetBall",value:function(){this.whiteBallComponent.isGoal=!1,this.BlackBallComponent.isGoal=!1}}]),e}(I)).prototype,"WhiteBall",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=a(b.prototype,"whiteBallPos",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=b))||G)),c._RF.pop()}}}));

System.register("chunks:///Game/Algorithm/MathAlgorithm.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../GameCommon/Ball/BallType.js","../GameCommon/Ball/BallManager.js"],(function(n,e){var a,l,o,r,t,i,u,s,c,w;return n({_dec:void 0,_class:void 0}),{setters:[function(n){a=n.createClass,l=n.classCallCheck},function(n){o=n.cclegacy,r=n._decorator,t=n.Vec3},function(n){i=n.BallType},function(n){u=n.BallManager}],execute:function(){o._RF.push({},"6399fzf3uxDs4E66sUY+fUM","MathAlgorithm",void 0),w=r.ccclass,n("MathAlgorithm",(s=w("MathAlgorithm"),s(c=function(){function n(){l(this,n)}return a(n,null,[{key:"Ball_8_Permutation",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t(90,5.71,0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5.71,a=new Array(15);a[0]=n;var l=Math.sqrt(e*e*4-e*e),o=e;return a[1]=new t(n.x+l,n.y,n.z+o),a[2]=new t(n.x+l,n.y,n.z-o),a[3]=new t(n.x+2*l,n.y,n.z-2*e),a[4]=new t(n.x+2*l,n.y,n.z),a[5]=new t(n.x+2*l,n.y,n.z+2*e),a[6]=new t(n.x+3*l,n.y,n.z+o+2*e),a[7]=new t(n.x+3*l,n.y,n.z+o),a[8]=new t(n.x+3*l,n.y,n.z-o),a[9]=new t(n.x+3*l,n.y,n.z-o-2*e),a[10]=new t(n.x+4*l,n.y,n.z-4*e),a[11]=new t(n.x+4*l,n.y,n.z-2*e),a[12]=new t(n.x+4*l,n.y,n.z),a[13]=new t(n.x+4*l,n.y,n.z+4*e),a[14]=new t(n.x+4*l,n.y,n.z+2*e),a}},{key:"DirectionOfForce",value:function(n,e){var a=new t(0,0,0);return t.normalize(a,new t(e.x-n.x,0,e.z-n.z)),a}},{key:"ResetBallPos",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new t(0,0,0);if(n==i.WHITEBALL){var a=new t(-120,5.71,0);return this.panduan2(a)}if(n==i.BLACKBALL){var l=new t(90,5.71,0);return this.panduan2(l)}return this.panduan2(e)}},{key:"panduan",value:function(n){for(var e=0;e<u.I.AllBallsofNode.length;e++){var a=u.I.AllBallsofNode[e];if(a.worldPosition.x<n.x+12&&a.worldPosition.x>n.x-12&&a.worldPosition.z<n.z+12&&a.worldPosition.z>n.z-12)return console.log("该位置有其他球存在"),!1}return!0}},{key:"panduan2",value:function(n){for(var e=1;!this.panduan(n);){n=new t(n.x+5*e,5.71,n.z),e++}return console.log("球位置应为:",n),n}}]),n}())||c)),o._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/BallPhysics.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var s,i,n,o,c,r,l,a,u,h,y,p,d,f;return e({_dec:void 0,_class:void 0}),{setters:[function(e){s=e.inherits,i=e.createClass,n=e.classCallCheck,o=e.possibleConstructorReturn,c=e.getPrototypeOf},function(e){r=e.cclegacy,l=e._decorator,a=e.RigidBody,u=e.Vec3,h=e.Quat,y=e.Component}],execute:function(){r._RF.push({},"83636l0Wm1NVb821xzWUnnp","BallPhysics",void 0),f=l.ccclass,l.property,e("BallPhysics",(p=f("BallPhysics"),p(d=function(e){function t(){return n(this,t),o(this,c(t).apply(this,arguments))}return s(t,e),i(t,[{key:"start",value:function(){this.rig=this.node.getComponent(a)}},{key:"update",value:function(e){this.MyPhysicRotate(e)}},{key:"MyPhysicRotate",value:function(e){var t=new u(0,0,0);this.rig.getLinearVelocity(t);var s=new h;h.fromEuler(s,t.z/5.71,0,-t.x/5.71),this.node.children[0].rotate(s,1)}}]),t}(y))||d)),r._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/BlackBall.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","./Ball.js","./RackManager.js","./BallManager.js"],(function(l,a){var e,n,t,o,i,r,c,s,u,B,f,h,p;return l({_dec:void 0,_class:void 0}),{setters:[function(l){e=l.inherits,n=l.createClass,t=l.classCallCheck,o=l.possibleConstructorReturn,i=l.getPrototypeOf},function(l){r=l.cclegacy,c=l._decorator},function(l){s=l.Ball},function(l){u=l.RackManager},function(l){B=l.BallManager}],execute:function(){r._RF.push({},"78fcb6fR/VNuJ3ilBZy8aex","BlackBall",void 0),p=c.ccclass,c.property,l("BlackBall",(f=p("BlackBall"),f(h=function(l){function a(){return t(this,a),o(this,i(a).apply(this,arguments))}return e(a,l),n(a,[{key:"onTriggerEnter",value:function(l){var a=l.otherCollider;"dong"==a.node.name&&(this.playSource(a),B.I.blackBallIsGoal=!0,this.isGoal=!0,u.I.GoalBallAnimation(8),this.rig.clearState(),this.owner.isStop=!0,this.inHoleAnimation(a.node.worldPosition))}}]),a}(s))||h)),r._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/CreateBall.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","./Ball.js","./RackManager.js","./BallManager.js","../../Algorithm/MathAlgorithm.js","./BallPhysics.js","./BlackBall.js"],(function(l,e){var a,t,n,o,i,r,s,c,p,u,d,B,h,g,b,m,f,C,v,y,k,_,R,w,j,P,I,M,z,A,D,x;return l({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(l){a=l.applyDecoratedDescriptor,t=l.inherits,n=l.classCallCheck,o=l.possibleConstructorReturn,i=l.getPrototypeOf,r=l.initializerDefineProperty,s=l.assertThisInitialized,c=l.createClass},function(l){p=l.cclegacy,u=l._decorator,d=l.Prefab,B=l.instantiate,h=l.RigidBody,g=l.SphereCollider,b=l.Component},function(l){m=l.Ball},function(l){f=l.RackManager},function(l){C=l.BallManager},function(l){v=l.MathAlgorithm},function(l){y=l.BallPhysics},function(l){k=l.BlackBall}],execute:function(){p._RF.push({},"c0b6chier1MzZj2OhRRby5x","CreateBall",void 0),D=u.ccclass,x=u.property,l("CreateBall",(_=D("CreateBall"),R=x({type:d}),w=x(d),j=x(d),_((M=a((I=function(l){function e(){var l,a;n(this,e);for(var t=arguments.length,c=new Array(t),p=0;p<t;p++)c[p]=arguments[p];return a=o(this,(l=i(e)).call.apply(l,[this].concat(c))),r(a,"redBall",M,s(a)),r(a,"yellowBall",z,s(a)),r(a,"blackBall",A,s(a)),a}return t(e,l),c(e,[{key:"start",value:function(){this.PutBall(),this.RackBall()}},{key:"PutBall",value:function(){for(var l=v.Ball_8_Permutation(),e=0,a=0,t=0;t<l.length;t++){var n=null;4==t?(n=B(this.blackBall),C.I.BlackBall=n,C.I.BlackBallComponent=n.getComponent(k)):e<=a?(n=B(this.redBall[e]),e++,C.I.RedBalls.push(n)):(n=B(this.yellowBall[a]),a++,C.I.YellowBalls.push(n)),n.position=l[t],this.node.parent.addChild(n),C.I.AllBallsofNode.push(n),C.I.AllBalls.push(n.getComponent(m))}}},{key:"RackBall",value:function(){for(var l=0;l<this.redBall.length;l++){var e=B(this.redBall[l]);e.getComponent(h).enabled=!1,e.getComponent(g).enabled=!1,e.getComponent(y).enabled=!1,e.getComponent(m).enabled=!1,f.allBall.push(e)}var a=B(this.blackBall);a.getComponent(h).enabled=!1,a.getComponent(g).enabled=!1,a.getComponent(y).enabled=!1,a.getComponent(k).enabled=!1,console.log(a.getComponent(g).enabled),f.allBall.push(a);for(var t=0;t<this.yellowBall.length;t++){var n=B(this.yellowBall[t]);n.getComponent(h).enabled=!1,n.getComponent(g).enabled=!1,n.getComponent(y).enabled=!1,n.getComponent(m).enabled=!1,console.log(n.getComponent(g).enabled),f.allBall.push(n)}}}]),e}(b)).prototype,"redBall",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=a(I.prototype,"yellowBall",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=a(I.prototype,"blackBall",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=I))||P)),p._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/MyLine.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,n){var t,i,o,s,r,c,a,l,u,h,p,f,d,y;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){t=e.inherits,i=e.classCallCheck,o=e.possibleConstructorReturn,s=e.getPrototypeOf,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,l=e.LineComponent,u=e.Vec3,h=e.Vec2,p=e.Component}],execute:function(){c._RF.push({},"854dffo2IlLhoYCXtsTu7B1","MyLine",void 0),y=a.ccclass,a.property,e("MyLine",(f=y("MyLine"),f(d=function(e){function n(){var e,t;i(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=o(this,(e=s(n)).call.apply(e,[this].concat(c)))).index=0,t}return t(n,e),r(n,[{key:"start",value:function(){n.I=this.node.getComponent(n),this.line=this.node.getComponent(l)}},{key:"DrawLine",value:function(e,n){var t=new Array(2);t[0]=e,t[1]=n,this.line.positions=t;var i=u.distance(t[0],t[1])/10;this.line.tile=new h(i,1),this.index-=.01,this.line.offset=new h(this.index,0)}}]),n}(p))||d)),c._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/FollowWhiteBall.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../GameSceneManager.js","./BallManager.js","../../Algorithm/MathAlgorithm.js","./MyLine.js"],(function(t,e){var i,a,l,s,o,r,n,h,c,g,d,w,P,u,B,T,f,v,y,C,R,m,p,z,x,b,F,L,M;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inherits,l=t.classCallCheck,s=t.possibleConstructorReturn,o=t.getPrototypeOf,r=t.initializerDefineProperty,n=t.assertThisInitialized,h=t.createClass},function(t){c=t.cclegacy,g=t._decorator,d=t.geometry,w=t.Node,P=t.Vec3,u=t.PhysicsSystem,B=t.Component},function(t){T=t.GameSceneManager},function(t){f=t.BallManager},function(t){v=t.MathAlgorithm},function(t){y=t.MyLine}],execute:function(){c._RF.push({},"5e08b1jC3ZKOpJtAMePtPKU","FollowWhiteBall",void 0),F=g.ccclass,L=g.property,M=d.ray,t("PosFlower",(C=F("PosFlower"),R=L(w),m=L(w),C((x=i((z=function(t){function e(){var t,i;l(this,e);for(var a=arguments.length,h=new Array(a),c=0;c<a;c++)h[c]=arguments[c];return i=s(this,(t=o(e)).call.apply(t,[this].concat(h))),r(i,"gan",x,n(i)),r(i,"TargetBall",b,n(i)),i.TargetBallCenter=null,i.TargetBallLeft=null,i.TargetBallRight=null,i.TargetBallFront=null,i.ganPos=null,i.center=null,i.left=null,i.right=null,i.r=11.42,i.istable=!1,i}return a(e,t),h(e,[{key:"start",value:function(){this.ganPos=this.node.getChildByName("ganPos"),this.center=this.node.getChildByName("Center"),this.left=this.node.getChildByName("Left"),this.right=this.node.getChildByName("Right"),this.TargetBallLeft=this.TargetBall.getChildByName("left"),this.TargetBallRight=this.TargetBall.getChildByName("right"),this.TargetBallFront=this.TargetBall.getChildByName("front"),this.TargetBallCenter=this.TargetBall.getChildByName("center")}},{key:"update",value:function(){this.GunFollowAndRotat(),this.TargetBall.active=this.gan.children[0].active,this.DrawLine()}},{key:"GunFollowAndRotat",value:function(){var t=new P(0,0,0);P.lerp(t,this.node.worldPosition,f.I.WhiteBall.worldPosition,.1),this.node.worldPosition=t;var e=new P(0,0,0);P.lerp(e,this.gan.worldPosition,this.ganPos.worldPosition,.1),this.gan.worldPosition=e,this.gan.lookAt(this.center.worldPosition),T.I.Players[T.I.nowPlayerType].ForceDirection=v.DirectionOfForce(this.ganPos.worldPosition,this.node.worldPosition)}},{key:"DrawLine",value:function(){var t=this.CreateRayJudgeNearestBall();this.TargetBall.lookAt(t);var e=this.CreateTargetPos(t);if(e){if(this.TargetBall.worldPosition=new P(e.x,5.71,e.z),!this.istable&&this.target){var i=new P(this.TargetBallLeft.worldPosition.x-this.TargetBall.worldPosition.x,0,this.TargetBallLeft.worldPosition.z-this.TargetBall.worldPosition.z),a=new P(this.TargetBallRight.worldPosition.x-this.TargetBall.worldPosition.x,0,this.TargetBallRight.worldPosition.z-this.TargetBall.worldPosition.z),l=new P(f.I.WhiteBall.worldPosition.x-this.TargetBallCenter.worldPosition.x,0,f.I.WhiteBall.worldPosition.z-this.TargetBallCenter.worldPosition.z),s=180/Math.PI*P.angle(i,l),o=180/Math.PI*P.angle(a,l),r=1-s/180,n=1-o/180;s>o?(this.TargetBallLeft.active=!0,this.TargetBallRight.active=!1,this.TargetBallFront.setScale(1,1,.5+r)):(this.TargetBallLeft.active=!1,this.TargetBallRight.active=!0,this.TargetBallFront.setScale(1,1,.5+n)),this.TargetBallLeft.setScale(.5-r,1,1),this.TargetBallRight.setScale(.5-n,1,1)}y.I.DrawLine(f.I.WhiteBall.worldPosition,e)}}},{key:"CreateRayJudgeNearestBall",value:function(){this.target=null;var t,e,i,a,l,s,o,r,n,h=new P(this.center.worldPosition.x-this.ganPos.worldPosition.x,0,this.center.worldPosition.z-this.ganPos.worldPosition.z),c=new M(this.center.worldPosition.x,this.center.worldPosition.y,this.center.worldPosition.z,h.x,0,h.z),g=new M(this.left.worldPosition.x,this.left.worldPosition.y,this.left.worldPosition.z,h.x,0,h.z),d=new M(this.right.worldPosition.x,this.right.worldPosition.y,this.right.worldPosition.z,h.x,0,h.z);if(u.instance.raycastClosest(c,1)){a=u.instance.raycastClosestResult.collider,o=new P(u.instance.raycastClosestResult.hitPoint.x,u.instance.raycastClosestResult.hitPoint.y,u.instance.raycastClosestResult.hitPoint.z);a.node.name}if(u.instance.raycastClosest(g,1)){l=u.instance.raycastClosestResult.collider,r=new P(u.instance.raycastClosestResult.hitPoint.x,u.instance.raycastClosestResult.hitPoint.y,u.instance.raycastClosestResult.hitPoint.z);l.node.name}if(u.instance.raycastClosest(d,1)&&(s=u.instance.raycastClosestResult.collider,n=new P(u.instance.raycastClosestResult.hitPoint.x,u.instance.raycastClosestResult.hitPoint.y,u.instance.raycastClosestResult.hitPoint.z)),o&&r&&n){t=P.distance(this.center.worldPosition,o),e=P.distance(this.left.worldPosition,r),i=P.distance(this.right.worldPosition,n);var w=Math.min(t,e,i);if(w==t){var B=a.node.name;return this.target=s.node,"Table"==B||"dong"==B||"well"==B?(this.r=2.852,this.istable=!0,this.TargetBallFront.active=!1,this.TargetBallLeft.active=!1,this.TargetBallRight.active=!1,o):(this.r=11.42,this.istable=!1,this.TargetBallFront.active=!0,this.TargetBallLeft.active=!0,this.TargetBallRight.active=!0,a.node.worldPosition)}if(w==e){var T=l.node.name;return this.target=s.node,"Table"==T||"dong"==T||"well"==T?(this.r=2.852,this.istable=!0,this.TargetBallFront.active=!1,this.TargetBallLeft.active=!1,this.TargetBallRight.active=!1,r):(this.r=11.42,this.istable=!1,this.TargetBallFront.active=!0,this.TargetBallLeft.active=!0,this.TargetBallRight.active=!0,l.node.worldPosition)}if(w==i){var f=s.node.name;return this.target=s.node,"Table"==f||"dong"==f||"well"==f?(this.r=5.71,this.istable=!0,this.TargetBallFront.active=!1,this.TargetBallLeft.active=!1,this.TargetBallRight.active=!1,n):(this.r=11.42,this.istable=!1,this.TargetBallFront.active=!0,this.TargetBallLeft.active=!0,this.TargetBallRight.active=!0,s.node.worldPosition)}}}},{key:"CreateTargetPos",value:function(t){if(t){var e,i,a=t.x,l=t.z,s=11.42,o=this.center.worldPosition,r=this.ganPos.worldPosition,n=o.x,h=o.z,c=r.x,g=r.z;if(o.x==r.x){var d=-2*l,w=l*l+(n-a)*(n-a)-s*s,u=n,B=(-d+Math.sqrt(d*d-4*w))/2,T=n,f=(-d-Math.sqrt(d*d-4*w))/2;e=new P(u,0,B),i=new P(T,0,f)}else if(o.z==r.z){var v=-2*a,y=a*a+(h-l)*(h-l)-s*s,C=(-v+Math.sqrt(v*v-4*y))/2,R=h,m=(-v-Math.sqrt(v*v-4*y))/2,p=h;e=new P(C,0,R),i=new P(m,0,p)}else{var z=(g-h)/(c-n),x=h-n*(g-h)/(c-n),b=1+z*z,F=2*z*x-2*l*z-2*a,L=x*x-2*l*x+a*a+l*l-s*s,M=(-F+Math.sqrt(F*F-4*b*L))/(2*b),_=z*M+x,N=(-F-Math.sqrt(F*F-4*b*L))/(2*b),k=z*N+x;e=new P(M,0,_),i=new P(N,0,k)}return P.distance(this.center.worldPosition,e)<P.distance(this.center.worldPosition,i)?e:i}}}]),e}(B)).prototype,"gan",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(z.prototype,"TargetBall",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=z))||p)),c._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/HoleAnimation.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../GameSceneManager.js"],(function(e,n){var t,i,o,r,a,l,s,c,f,u,p,m,d,g,h,y,v,C,_,b,A,H;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,a=e.getPrototypeOf,l=e.initializerDefineProperty,s=e.assertThisInitialized,c=e.createClass},function(e){f=e.cclegacy,u=e._decorator,p=e.Node,m=e.Collider,d=e.AnimationComponent,g=e.Component},function(e){h=e.GameSceneManager}],execute:function(){f._RF.push({},"dcba8G9wHpDeI+XN+NaVC//","HoleAnimation",void 0),A=u.ccclass,H=u.property,e("HoleAnimation",(y=A("HoleAnimation"),v=H(p),y((b=t((_=function(e){function n(){var e,t;o(this,n);for(var i=arguments.length,c=new Array(i),f=0;f<i;f++)c[f]=arguments[f];return t=r(this,(e=a(n)).call.apply(e,[this].concat(c))),l(t,"eff",b,s(t)),t.effanimation=null,t}return i(n,e),c(n,[{key:"start",value:function(){this.node.getComponent(m).on("onTriggerEnter",this.onTriggerEnter,this),this.effanimation=this.eff.getComponent(d)}},{key:"onTriggerEnter",value:function(e){h.I.Players[h.I.nowPlayerType].IsFreeBall||(console.log(e),this.eff.active=!0,this.effanimation.play())}}]),n}(g)).prototype,"eff",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C)),f._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/Ball/OrdinaryBall.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","./Ball.js","./BallManager.js"],(function(l,e){var n,i,r,t,a,o,s,c,u,d,h,g;return l({_dec:void 0,_class:void 0}),{setters:[function(l){n=l.inherits,i=l.createClass,r=l.classCallCheck,t=l.possibleConstructorReturn,a=l.getPrototypeOf},function(l){o=l.cclegacy,s=l._decorator},function(l){c=l.Ball},function(l){u=l.BallManager}],execute:function(){o._RF.push({},"075934S7wFKPb73ATkoIATL","OrdinaryBall",void 0),g=s.ccclass,s.property,l("OrdinaryBall",(d=g("OrdinaryBall"),d(h=function(l){function e(){return r(this,e),t(this,a(e).apply(this,arguments))}return n(e,l),i(e,[{key:"onTriggerEnter",value:function(l){var e=l.otherCollider;"dong"==e.node.name&&(this.playSource(e),this.isGoal=!0,this.rig.isKinematic=!0,this.rig.clearState(),console.log(this.ballNumber,"号球进了"),this.inHoleAnimation(e.node.worldPosition),u.I.GoalBall(this.node))}}]),e}(c))||h)),o._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/TipTextInGame.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,c){var n,t,i,s,a,o;return e({_dec:void 0,_class:void 0}),{setters:[function(e){n=e.classCallCheck},function(e){t=e.cclegacy,i=e._decorator}],execute:function(){t._RF.push({},"36dfeZJKK9GJZTnd/cvpmVA","TipTextInGame",void 0),o=i.ccclass,i.property,e("TipTextInGame",(s=o("TipTextInGame"),s(a=function e(){n(this,e)})||a)),t._RF.pop()}}}));

System.register("chunks:///Game/GameCommon/UI/ExitBtn.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../../../Utils/MKMessageManager.js"],(function(t,e){var n,c,i,s,o,r,a,u,l,p,f,m;return t({_dec:void 0,_class:void 0}),{setters:[function(t){n=t.inherits,c=t.createClass,i=t.classCallCheck,s=t.possibleConstructorReturn,o=t.getPrototypeOf},function(t){r=t.cclegacy,a=t._decorator,u=t.Component},function(t){l=t.default}],execute:function(){r._RF.push({},"cb38cNpiKtJp6AcHkVD01zP","ExitBtn",void 0),m=a.ccclass,a.property,t("ExitBtn",(p=m("ExitBtn"),p(f=function(t){function e(){return i(this,e),s(this,o(e).apply(this,arguments))}return n(e,t),c(e,[{key:"ExitGame",value:function(){l.exitGame()}}]),e}(u))||f)),r._RF.pop()}}}));

System.register("chunks:///Game/Popup/LosePopup.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/NDBTS.js","./Popup.js","./PopupManager.js","../../Common/SourceManager.js"],(function(e,o){var n,s,t,u,p,c,a,r,i,l,f,P,d,g,h;return e({_dec:void 0,_class:void 0}),{setters:[function(e){n=e.inherits,s=e.createClass,t=e.classCallCheck,u=e.possibleConstructorReturn,p=e.getPrototypeOf},function(e){c=e.cclegacy,a=e._decorator,r=e.find},function(e){i=e.default},function(e){l=e.Popup},function(e){f=e.PopupManager},function(e){P=e.SourceManager}],execute:function(){c._RF.push({},"2e9d00XaxpIrKNEaqTygKss","LosePopup",void 0),h=a.ccclass,a.property,e("LosePopup",(d=h("LosePopup"),d(g=function(e){function o(){return t(this,o),u(this,p(o).apply(this,arguments))}return n(o,e),s(o,[{key:"Init",value:function(){P.I.Lose();i.sendAutoJoinEvent({eventName:"game_end",name:"8ball",result:"lose"}),this.scheduleOnce((function(){console.log("打开结算弹窗"),f.I.ClosePopup(r("Canvas")),f.I.ShowPopup(r("Canvas"),"SettlemenyPopup")}),5)}}]),o}(l))||g)),c._RF.pop()}}}));

System.register("chunks:///Game/Popup/MatchingPopup.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../GameData.js","./Popup.js","../../Common/SourceManager.js","../GameCommon/RoundType.js"],(function(e,t){var a,o,i,n,s,p,c,r,l,h,m,u,g,d,y,C,N;return e({_dec:void 0,_class:void 0}),{setters:[function(e){a=e.inherits,o=e.createClass,i=e.classCallCheck,n=e.possibleConstructorReturn,s=e.getPrototypeOf},function(e){p=e.cclegacy,c=e._decorator,r=e.Sprite,l=e.Label,h=e.director},function(e){m=e.GameData},function(e){u=e.Popup},function(e){g=e.SourceManager},function(e){d=e.RoundType}],execute:function(){p._RF.push({},"450e9B/ZEtG5axmbwBK0tEI","MatchingPopup",void 0),N=c.ccclass,c.property,e("MatchingPopup",(y=N("MatchingPopup"),y(C=function(e){function t(){return i(this,t),n(this,s(t).apply(this,arguments))}return a(t,e),o(t,[{key:"Init",value:function(){var e,t;g.I.StartGame(),m.I.gameStop=!0,this.top1=this.node.getChildByName("Top1"),this.top2=this.node.getChildByName("Top2"),m.I.loadData.thisPlayer==d.Play1?(this.top1.active=!0,this.top2.active=!1,e=this.top1.getChildByName("Player1"),t=this.top1.getChildByName("Player2")):(this.top1.active=!1,this.top2.active=!0,e=this.top2.getChildByName("Player2"),t=this.top2.getChildByName("Player1"));var a=e.getChildByName("Mask").getChildByName("HeadImage"),o=e.getChildByName("Name"),i=t.getChildByName("Mask").getChildByName("HeadImage"),n=t.getChildByName("Name");a.getComponent(r).spriteFrame=m.I.thisplayerHeadImage,o.getComponent(l).string=m.I.thisPlayerName,i.getComponent(r).spriteFrame=m.I.RobotHeadImage,n.getComponent(l).string=m.I.RobotName}},{key:"LoadGameScene",value:function(){this.scheduleOnce((function(){console.log("信息展示3秒后跳转游戏场景"),h.loadScene("GameScene")}),3)}}]),t}(u))||C)),p._RF.pop()}}}));

System.register("chunks:///Game/Popup/SettlementPopup.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../GameData.js","./Popup.js","./PopupManager.js","../../Common/SourceManager.js","../GameCommon/RoundType.js","../GameCommon/GameSceneManager.js"],(function(e,a){var t,i,n,o,l,c,r,m,p,u,s,d,y,g,h,v,B,C,P,N;return e({_dec:void 0,_class:void 0}),{setters:[function(e){t=e.inherits,i=e.createClass,n=e.classCallCheck,o=e.possibleConstructorReturn,l=e.getPrototypeOf},function(e){c=e.cclegacy,r=e._decorator,m=e.Sprite,p=e.Label,u=e.find,s=e.director},function(e){d=e.GameData},function(e){y=e.Popup},function(e){g=e.PopupManager},function(e){h=e.SourceManager},function(e){v=e.RoundType},function(e){B=e.GameSceneManager}],execute:function(){c._RF.push({},"a42d9B7xWlLp4iEhkhKDBVI","SettlementPopup",void 0),N=r.ccclass,r.property,e("SettlemenyPopup",(C=N("SettlementPopup"),C(P=function(e){function a(){return n(this,a),o(this,l(a).apply(this,arguments))}return t(a,e),i(a,[{key:"Init",value:function(){h.I.Settlemeny();var e=this.node.getChildByName("Player1"),a=this.node.getChildByName("Player2"),t=e.getChildByName("Mask").getChildByName("HeadImage"),i=e.getChildByName("Name"),n=a.getChildByName("Mask").getChildByName("HeadImage"),o=a.getChildByName("Name");t.getComponent(m).spriteFrame=d.I.thisplayerHeadImage,i.getComponent(p).string=d.I.thisPlayerName,n.getComponent(m).spriteFrame=d.I.RobotHeadImage,o.getComponent(p).string=d.I.RobotName;var l=this.node.getChildByName("Player1WinTip"),c=this.node.getChildByName("Player1Gload"),r=this.node.getChildByName("Player2WinTip"),u=this.node.getChildByName("Player2Gload");B.I.thisPlayer==v.Play1&&(e.getChildByName("RedBG").active=!0,e.getChildByName("BlueBG").active=!1,a.getChildByName("RedBG").active=!1,a.getChildByName("BlueBG").active=!0,d.I.Winer==v.Play1?(l.active=!0,c.active=!0,r.active=!1,u.active=!1):(l.active=!1,c.active=!1,r.active=!0,u.active=!0)),B.I.thisPlayer==v.Play2&&(e.getChildByName("RedBG").active=!1,e.getChildByName("BlueBG").active=!0,a.getChildByName("RedBG").active=!0,a.getChildByName("BlueBG").active=!1,d.I.Winer==v.Play2?(l.active=!0,c.active=!0,r.active=!1,u.active=!1):(l.active=!1,c.active=!1,r.active=!0,u.active=!0))}},{key:"PlayAgain",value:function(){g.I.ClosePopup(u("Canvas")),s.loadScene("MainScene"),d.I.gameStop=!1,d.I.Winer=null,g.I.nowPopup=null}},{key:"Exit",value:function(){g.I.ShowPopup(u("Canvas"),"ExitTipPopup",!0)}}]),a}(y))||P)),c._RF.pop()}}}));

System.register("chunks:///Game/Popup/TipPopup.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/MKMessageManager.js","../GameData.js","./Popup.js","./PopupManager.js","../GameCommon/UI/MainSceneUI.js","../GameCommon/GameSceneManager.js"],(function(n,e){var o,a,p,s,i,t,u,c,l,r,C,P,v,f,y,I,d,m,g;return n({_dec:void 0,_class:void 0}),{setters:[function(n){o=n.inherits,a=n.createClass,p=n.classCallCheck,s=n.possibleConstructorReturn,i=n.getPrototypeOf},function(n){t=n.cclegacy,u=n._decorator,c=n.Vec3,l=n.tween,r=n.find},function(n){C=n.default},function(n){P=n.GameData},function(n){v=n.Popup},function(n){f=n.PopupManager},function(n){y=n.MainSceneUI},function(n){I=n.GameSceneManager}],execute:function(){t._RF.push({},"64091QfhVJFm6swM1F1nxTk","TipPopup",void 0),g=u.ccclass,u.property,n("TipPopup",(d=g("TipPopup"),d(m=function(n){function e(){return p(this,e),s(this,i(e).apply(this,arguments))}return o(e,n),a(e,[{key:"onEnable",value:function(){var n=this.node.getChildByName("Tip");n.position=new c(0,-600,0),l(n).to(.5,{position:new c(0,0,0)},{easing:"backOut"}).start()}},{key:"YesBtn",value:function(){P.I.gameStop=!0,console.log("退出游戏"),I.I.Players[I.I.thisPlayer].IsSeriousFoul=!0,console.log("游戏结束",I.I.thisPlayer,"失败"),P.I.Winer=1-I.I.thisPlayer,f.I.ClosePopup(r("Canvas"),!0,r("Canvas/TipPopup")),f.I.ShowPopup(r("Canvas"),"LosePopup")}},{key:"NoBtn",value:function(){f.I.ClosePopup(r("Canvas"),!0,r("Canvas/TipPopup"))}},{key:"NoAddCoinBtn",value:function(){C.buyGameCion(),f.I.ClosePopup(r("Canvas"),!0,r("Canvas/AddCoinTipPopup"))}},{key:"NoExitBtn",value:function(){f.I.ClosePopup(r("Canvas"),!0,r("Canvas/ExitTipPopup"))}},{key:"Exit",value:function(){console.log("退出游戏"),C.exitGame()}},{key:"AddCoinBtn",value:function(){f.I.ClosePopup(r("Canvas"),!0,r("Canvas/AddCoinTipPopup"))}},{key:"ErrYes",value:function(){f.I.ClosePopup(r("Canvas"),!0,r("Canvas/ErrTipPopup")),y.I.PlayBtn.active=!0}},{key:"ErrNo",value:function(){f.I.ClosePopup(r("Canvas"),!0,r("Canvas/ErrTipPopup")),y.I.Join()}}]),e}(v))||m)),t._RF.pop()}}}));

System.register("chunks:///Game/Popup/WinPopup.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/NDBTS.js","./Popup.js","./PopupManager.js","../../Common/SourceManager.js","../../Common/ServerCommon.js"],(function(n,e){var o,t,u,i,s,a,p,c,r,l,f,m,P,v,d,h;return n({_dec:void 0,_class:void 0}),{setters:[function(n){o=n.inherits,t=n.createClass,u=n.classCallCheck,i=n.possibleConstructorReturn,s=n.getPrototypeOf},function(n){a=n.cclegacy,p=n._decorator,c=n.find},function(n){r=n.default},function(n){l=n.Popup},function(n){f=n.PopupManager},function(n){m=n.SourceManager},function(n){P=n.ServerCommon}],execute:function(){a._RF.push({},"72affiSZE5BxJ1aX7RVabhL","WinPopup",void 0),h=p.ccclass,p.property,n("WinPopup",(v=h("WinPopup"),v(d=function(n){function e(){return u(this,e),i(this,s(e).apply(this,arguments))}return o(e,n),t(e,[{key:"Init",value:function(){P.gload(200,"win");r.sendAutoJoinEvent({eventName:"game_end",name:"8ball",result:"win"}),m.I.Win(),this.scheduleOnce((function(){f.I.ClosePopup(c("Canvas")),f.I.ShowPopup(c("Canvas"),"SettlemenyPopup")}),5)}}]),e}(l))||d)),a._RF.pop()}}}));

System.register("chunks:///Game/Test.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./Algorithm/MathAlgorithm.js"],(function(e,t){var i,r,n,a,o,l,s,c,u,p,d,h,f,g,v,y,_,m,b,C,R,B,P;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inherits,n=e.classCallCheck,a=e.possibleConstructorReturn,o=e.getPrototypeOf,l=e.initializerDefineProperty,s=e.assertThisInitialized,c=e.createClass},function(e){u=e.cclegacy,p=e._decorator,d=e.Prefab,h=e.instantiate,f=e.RigidBody,g=e.Vec3,v=e.Component},function(e){y=e.MathAlgorithm}],execute:function(){u._RF.push({},"177a8w1gFxMJ6R+V2teaGbW","Test",void 0),B=p.ccclass,P=p.property,e("Test",(_=B("Test"),m=P(d),_((R=i((C=function(e){function t(){var e,i;n(this,t);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return i=a(this,(e=o(t)).call.apply(e,[this].concat(c))),l(i,"ball",R,s(i)),i}return r(t,e),c(t,[{key:"start",value:function(){for(var e=this,t=y.Ball_8_Permutation(),i=0;i<t.length;i++){var r=h(this.ball);r.position=t[i],this.node.parent.addChild(r)}this.scheduleOnce((function(){e.node.parent.getChildByName("RedBall").getComponent(f).applyImpulse(new g(30,0,0))}),1)}}]),t}(v)).prototype,"ball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b)),u._RF.pop()}}}));

System.register("chunks:///Utils/stopPropagation.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var o,n,s,r,i,c,a,u,l,p,f,h;return t("_class",void 0),{setters:[function(t){o=t.inherits,n=t.createClass,s=t.classCallCheck,r=t.possibleConstructorReturn,i=t.getPrototypeOf},function(t){c=t.cclegacy,a=t._decorator,u=t.Node,l=t.Component}],execute:function(){c._RF.push({},"4e493ri8rlBCah82zg7jDMS","stopPropagation",void 0),f=a.ccclass,a.property,h=f(p=function(t){function e(){return s(this,e),r(this,i(e).apply(this,arguments))}return o(e,t),n(e,[{key:"start",value:function(){this.node.on(u.EventType.TOUCH_START,(function(t){t.stopPropagation()}),this)}}]),e}(l))||p,c._RF.pop(),t("default",h)}}}));

System.register("chunks:///_virtual/prerequisite-imports:main",["../Common/noSleep.js","../Utils/MKEventDispatch.js","../Utils/GlobalGameData.js","../Utils/MKMessageManager.js","../Utils/MKSound.js","../Utils/NDBTS.js","../Game/GameData.js","../Game/Popup/Popup.js","../Game/Popup/PopupManager.js","../Common/LoadAnimation.js","../Common/SourceManager.js","../Game/GameCommon/RoundType.js","../Game/GameCommon/UI/MainSceneUI.js","../Utils/MKMessageType.js","../Utils/MKResourcesManager.js","../Common/ServerCommon.js","../Common/Silence.js","../Common/UIAnimation.js","../Game/GameCommon/Ball/BallType.js","../Game/GameCommon/Player.js","../Game/GameCommon/UI/GameSceneUI.js","../Game/GameCommon/UI/PlayerController.js","../Game/GameCommon/RobotController.js","../Game/GameCommon/GameSceneManager.js","../Game/GameCommon/Ball/Ball.js","../Game/GameCommon/Ball/RackManager.js","../Game/GameCommon/Ball/WhiteBall.js","../Game/GameCommon/Ball/BallManager.js","../Game/Algorithm/MathAlgorithm.js","../Game/GameCommon/Ball/BallPhysics.js","../Game/GameCommon/Ball/BlackBall.js","../Game/GameCommon/Ball/CreateBall.js","../Game/GameCommon/Ball/MyLine.js","../Game/GameCommon/Ball/FollowWhiteBall.js","../Game/GameCommon/Ball/HoleAnimation.js","../Game/GameCommon/Ball/OrdinaryBall.js","../Game/GameCommon/TipTextInGame.js","../Game/GameCommon/UI/ExitBtn.js","../Game/Popup/LosePopup.js","../Game/Popup/MatchingPopup.js","../Game/Popup/SettlementPopup.js","../Game/Popup/TipPopup.js","../Game/Popup/WinPopup.js","../Game/Test.js","../Utils/stopPropagation.js"],(function(n,o){return{setters:[function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/Scripts/Common/noSleep.js', 'chunks:///Common/noSleep.js');
  r('project:///assets/Scripts/Utils/MKEventDispatch.js', 'chunks:///Utils/MKEventDispatch.js');
  r('project:///assets/Scripts/Utils/GlobalGameData.js', 'chunks:///Utils/GlobalGameData.js');
  r('project:///assets/Scripts/Utils/MKMessageManager.js', 'chunks:///Utils/MKMessageManager.js');
  r('project:///assets/Scripts/Utils/MKSound.js', 'chunks:///Utils/MKSound.js');
  r('project:///assets/Scripts/Utils/NDBTS.js', 'chunks:///Utils/NDBTS.js');
  r('project:///assets/Scripts/Game/GameData.js', 'chunks:///Game/GameData.js');
  r('project:///assets/Scripts/Game/Popup/Popup.js', 'chunks:///Game/Popup/Popup.js');
  r('project:///assets/Scripts/Game/Popup/PopupManager.js', 'chunks:///Game/Popup/PopupManager.js');
  r('project:///assets/Scripts/Common/LoadAnimation.js', 'chunks:///Common/LoadAnimation.js');
  r('project:///assets/Scripts/Common/SourceManager.js', 'chunks:///Common/SourceManager.js');
  r('project:///assets/Scripts/Game/GameCommon/RoundType.js', 'chunks:///Game/GameCommon/RoundType.js');
  r('project:///assets/Scripts/Game/GameCommon/UI/MainSceneUI.js', 'chunks:///Game/GameCommon/UI/MainSceneUI.js');
  r('project:///assets/Scripts/Utils/MKMessageType.js', 'chunks:///Utils/MKMessageType.js');
  r('project:///assets/Scripts/Utils/MKResourcesManager.js', 'chunks:///Utils/MKResourcesManager.js');
  r('project:///assets/Scripts/Common/ServerCommon.js', 'chunks:///Common/ServerCommon.js');
  r('project:///assets/Scripts/Common/Silence.js', 'chunks:///Common/Silence.js');
  r('project:///assets/Scripts/Common/UIAnimation.js', 'chunks:///Common/UIAnimation.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/BallType.js', 'chunks:///Game/GameCommon/Ball/BallType.js');
  r('project:///assets/Scripts/Game/GameCommon/Player.js', 'chunks:///Game/GameCommon/Player.js');
  r('project:///assets/Scripts/Game/GameCommon/UI/GameSceneUI.js', 'chunks:///Game/GameCommon/UI/GameSceneUI.js');
  r('project:///assets/Scripts/Game/GameCommon/UI/PlayerController.js', 'chunks:///Game/GameCommon/UI/PlayerController.js');
  r('project:///assets/Scripts/Game/GameCommon/RobotController.js', 'chunks:///Game/GameCommon/RobotController.js');
  r('project:///assets/Scripts/Game/GameCommon/GameSceneManager.js', 'chunks:///Game/GameCommon/GameSceneManager.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/Ball.js', 'chunks:///Game/GameCommon/Ball/Ball.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/RackManager.js', 'chunks:///Game/GameCommon/Ball/RackManager.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/WhiteBall.js', 'chunks:///Game/GameCommon/Ball/WhiteBall.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/BallManager.js', 'chunks:///Game/GameCommon/Ball/BallManager.js');
  r('project:///assets/Scripts/Game/Algorithm/MathAlgorithm.js', 'chunks:///Game/Algorithm/MathAlgorithm.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/BallPhysics.js', 'chunks:///Game/GameCommon/Ball/BallPhysics.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/BlackBall.js', 'chunks:///Game/GameCommon/Ball/BlackBall.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/CreateBall.js', 'chunks:///Game/GameCommon/Ball/CreateBall.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/MyLine.js', 'chunks:///Game/GameCommon/Ball/MyLine.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/FollowWhiteBall.js', 'chunks:///Game/GameCommon/Ball/FollowWhiteBall.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/HoleAnimation.js', 'chunks:///Game/GameCommon/Ball/HoleAnimation.js');
  r('project:///assets/Scripts/Game/GameCommon/Ball/OrdinaryBall.js', 'chunks:///Game/GameCommon/Ball/OrdinaryBall.js');
  r('project:///assets/Scripts/Game/GameCommon/TipTextInGame.js', 'chunks:///Game/GameCommon/TipTextInGame.js');
  r('project:///assets/Scripts/Game/GameCommon/UI/ExitBtn.js', 'chunks:///Game/GameCommon/UI/ExitBtn.js');
  r('project:///assets/Scripts/Game/Popup/LosePopup.js', 'chunks:///Game/Popup/LosePopup.js');
  r('project:///assets/Scripts/Game/Popup/MatchingPopup.js', 'chunks:///Game/Popup/MatchingPopup.js');
  r('project:///assets/Scripts/Game/Popup/SettlementPopup.js', 'chunks:///Game/Popup/SettlementPopup.js');
  r('project:///assets/Scripts/Game/Popup/TipPopup.js', 'chunks:///Game/Popup/TipPopup.js');
  r('project:///assets/Scripts/Game/Popup/WinPopup.js', 'chunks:///Game/Popup/WinPopup.js');
  r('project:///assets/Scripts/Game/Test.js', 'chunks:///Game/Test.js');
  r('project:///assets/Scripts/Utils/stopPropagation.js', 'chunks:///Utils/stopPropagation.js');
  r('virtual:///prerequisite-imports:main', 'chunks:///_virtual/prerequisite-imports:main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    var _m;
    return {
        setters: [function(m) { _m = m; }],
        execute: function () { _export(_m); }
    };
    });
});
} }; });